window.__require=function t(e,n,o){function i(a,p){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var c="function"==typeof __require&&__require;if(!p&&c)return c(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({AwardUI:[function(t,e,n){"use strict";cc._RF.push(e,"9f6b5OOVtlA/7+gEb6aWAOO","AwardUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Script/Common/Action3dManager"),p=t("../../Script/Common/yyComponent"),s=t("../../Script/GameSpecial/GameEventType"),c=t("../../Script/GameSpecial/GlobalEnum"),l=cc._decorator,u=l.ccclass,h=l.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=null,e.goldLabel=null,e.gold=0,e.awarded=!1,e.btnContinueGame=null,e.btnContinueEnabled=!0,e}return i(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return c.GlobalEnum.UI.awardUI},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.initComponents(),this.initGold(),this.onEvents(),void 0!==t&&this.setData(t)},e.prototype.setData=function(t){this.data=t,this.gold=100+t.data.gold,this.goldLabel.string=this.gold.toString()},e.prototype.reset=function(){this.resetGold()},e.prototype.show=function(t){this.reset(),this.node.active=!0,this.emit(s.EventType.UIEvent.enter,c.GlobalEnum.UI.playerAssetBar),void 0!==t&&void 0!==t.data&&this.setData(t)},e.prototype.initBtn=function(t){var e=this;if(console.log("\u5956\u52b1\u9875\u5f00\u5173\u914d\u7f6e\uff1a",t),0==t[c.GlobalEnum.RecommendFlowConfig.visible]||1==t.daochumode)this.setBtnContinueGameNormal(),setTimeout(function(){e._showBanner()},40);else{this.setBtnContinueGameBelowBanner();var n=t[c.GlobalEnum.RecommendFlowConfig.resultBannerShowDelay];n<0&&(n=0),setTimeout(function(){var n=t[c.GlobalEnum.RecommendFlowConfig.resultBtnMoveDelay];n<0&&(n=0),e._showBanner(),setTimeout(function(){e.moveUpBtnContinue()},1e3*n)},1e3*n)}},e.prototype.initGold=function(){this.awarded=!1},e.prototype.resetGold=function(){this.awarded=!1},e.prototype.initBtnContinueGame=function(){this.btnContinueEnabled=!0},e.prototype.resetBtnContinueGame=function(){this.btnContinueEnabled=!0},e.prototype.computeNodeWidgetBottom=function(t,e){var n=cc.find("Canvas");return t.height*t.anchorY-.5*n.height+e},e.prototype.setBtnContinueGameBelowBanner=function(){this.btnContinueEnabled=!1,this.btnContinueGame.setPosition(0,this.computeNodeWidgetBottom(this.btnContinueGame,30))},e.prototype.setBtnContinueGameNormal=function(){this.btnContinueEnabled=!0,this.btnContinueGame.setPosition(0,this.computeNodeWidgetBottom(this.btnContinueGame,250))},e.prototype.moveUpBtnContinue=function(){var t=this.computeNodeWidgetBottom(this.btnContinueGame,250),e=a.default.moveTo(.8,0,t,0),n=a.default.callFun(this.onBtnContinueAnimFinish,this),o=a.default.sequence(e,n);a.default.getMng(a.ActionMngType.UI).runAction(this.btnContinueGame,o)},e.prototype.onBtnContinueAnimFinish=function(){this.btnContinueEnabled=!0},e.prototype._showBanner=function(){this.emit(s.EventType.SDKEvent.showBanner,{style:{horizontal:"middle"}})},e.prototype._hideBanner=function(){this.emit(s.EventType.SDKEvent.hideBanner)},e.prototype._removeBanner=function(){this.emit(s.EventType.SDKEvent.hideBanner)},e.prototype.onBtnVideo=function(){var t=this;this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.SDKEvent.showVideo,{success:function(){t.addGold(5*t.gold,t.getGoldByVideoFinish.bind(t))}})},e.prototype.getGoldByVideoFinish=function(){this.enterWinUI()},e.prototype.onBtnContinueGame=function(){this.awarded||(this.awarded=!0,this.emit(s.EventType.AudioEvent.playClickBtn),this.addGold(this.gold,this.enterWinUI.bind(this)))},e.prototype.addGold=function(t,e){var n=this;this.emit(s.EventType.AudioEvent.playEffect,c.GlobalEnum.AudioClip.gold);var o=this.goldLabel.node.convertToWorldSpaceAR(cc.v2()),i=cc.find("Canvas");o.x-=.5*i.width,o.y-=.5*i.height,this.emit(s.EventType.UIEvent.playGoldAnim,{startPos:o,cb:function(){n.emit(s.EventType.PlayerDataEvent.updatePlayerData,{attribute:"gameData.asset.gold",value:t,mode:"+"}),e&&e()},gold:t})},e.prototype.enterWinUI=function(){this.emit(s.EventType.UIEvent.exit,c.GlobalEnum.UI.awardUI),this.emit(s.EventType.UIEvent.exit,c.GlobalEnum.UI.playerAssetBar),this.emit(s.EventType.UIEvent.enter,c.GlobalEnum.UI.winUI,this.data)},e.prototype.continueGame=function(){this.btnContinueEnabled&&this.addGold(this.gold,this.enterWinUI.bind(this))},r([h(cc.Label)],e.prototype,"goldLabel",void 0),r([h(cc.Node)],e.prototype,"btnContinueGame",void 0),r([u],e)}(p.default);n.default=y,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],ClickTip:[function(t,e,n){"use strict";cc._RF.push(e,"c0a63AnQaVKXYJEneHB8OOB","ClickTip");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Script/Common/yyComponent"),p=cc._decorator,s=p.ccclass,c=p.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mask=null,e.finishEvent=null,e.click=null,e}return i(e,t),e.prototype.init=function(){this.node.active=!1},e.prototype.reset=function(){this.node.active=!1},e.prototype.show=function(t){if(this.node.active=!0,this.onEvents(),this.click.setPosition(cc.v2()),t){if(t.worldPos){var e=this.node.convertToNodeSpaceAR(t.worldPos);this.click.setPosition(e)}t.eventName&&(this.finishEvent=t.eventName)}},e.prototype.hide=function(){this.node.active=!1,this.offEvents()},e.prototype.onEvents=function(){this.mask.on("touchstart",this.touchStart,this)},e.prototype.offEvents=function(){this.mask.off("touchstart",this.touchStart,this)},e.prototype.touchStart=function(){if(this.finishEvent){var t=this.finishEvent;this.finishEvent=null,this.emit(t)}this.hide()},e.prototype.showClick=function(){this.click.active=!0},e.prototype.hideClick=function(){this.click.active=!0},r([c(cc.Node)],e.prototype,"mask",void 0),r([c(cc.Node)],e.prototype,"click",void 0),r([s],e)}(a.default);n.default=l,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0}],LevelInfoUI:[function(t,e,n){"use strict";cc._RF.push(e,"4393ap5mKNKOIGdbWF8MM3a","LevelInfoUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Script/Common/yyComponent"),p=t("../../Script/GameSpecial/GlobalEnum"),s=t("../../Script/GameSpecial/GameEventType"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.curLevelLabel=null,e.nextLevelLabel=null,e.levelProgressBar=null,e.curGoldLabel=null,e.curGold=0,e}return i(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return p.GlobalEnum.UI.levelInfo},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.initCurGold(),this.initComponents(),this.initProgress(),this.onEvents()},e.prototype.onEvents=function(){},e.prototype.reset=function(){this.resetCurGold(),this.resetProgress()},e.prototype.show=function(t){this.node.active=!0,this.reset(),this.setData(t)},e.prototype.hide=function(){this.reset(),this.node.active=!1},e.prototype.getData=function(){return{speGold:0,gold:this.curGold}},e.prototype.setData=function(t){this.curLevelLabel&&(this.curLevelLabel.string=t.lv.toString()),this.nextLevelLabel&&(this.nextLevelLabel.string=(t.lv+1).toString())},e.prototype.convertToString=function(t){return t<1100?t.toString():t<11e5?(.001*t).toFixed(1)+"K":(1e-6*t).toFixed(1)+"M"},e.prototype.initProgress=function(){this.levelProgressBar&&(this.levelProgressBar.progress=0)},e.prototype.resetProgress=function(){this.levelProgressBar&&(this.levelProgressBar.progress=0)},e.prototype.setProgress=function(t){this.levelProgressBar&&(this.levelProgressBar.progress=t)},e.prototype.initCurGold=function(){this.curGold=0,this.curGoldLabel.string=this.curGold.toString()},e.prototype.resetCurGold=function(){this.curGold=0,this.curGoldLabel.string=this.curGold.toString()},e.prototype.addCurGold=function(t){this.curGold+=t,this.curGoldLabel.string=this.curGold.toString()},e.prototype.onPlayerCollGold=function(){this.addCurGold(1)},e.prototype.onBtnConfigSetting=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.enter,p.GlobalEnum.UI.configSetting)},e.prototype.onBtnPause=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.enter,p.GlobalEnum.UI.pauseLevel)},e.prototype.onBtnReplay=function(){},e.prototype.onBtnLobby=function(){this.emit(s.EventType.DirectorEvent.enterLobby)},e.prototype.onBtnWin=function(){this.emit(s.EventType.LevelEvent.testWin)},e.prototype.onBtnLose=function(){this.emit(s.EventType.LevelEvent.testLose)},r([u(cc.Label)],e.prototype,"curLevelLabel",void 0),r([u(cc.Label)],e.prototype,"nextLevelLabel",void 0),r([u(cc.ProgressBar)],e.prototype,"levelProgressBar",void 0),r([u(cc.Label)],e.prototype,"curGoldLabel",void 0),r([l],e)}(a.default);n.default=h,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],LoseUI:[function(t,e,n){"use strict";cc._RF.push(e,"6f8173lok9Jd7axmbmpArAu","LoseUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Script/Common/yyComponent"),p=t("../../Script/GameSpecial/GlobalEnum"),s=t("../../Script/GameSpecial/GameEventType"),c=t("../../Script/GameSpecial/AdConfig"),l=t("../../Script/Common/BannerToucherButton"),u=cc._decorator,h=u.ccclass,y=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bannerToucherBtn=null,e}return i(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return p.GlobalEnum.UI.loseUI},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.initComponents()},e.prototype.reset=function(){},e.prototype.show=function(t){this.emit(s.EventType.AudioEvent.playEffect,p.GlobalEnum.AudioClip.lose),this.reset(),this.node.active=!0,void 0!==t&&void 0!==t.data&&this.setData(t.data)},e.prototype._showBanner=function(){this.emit(s.EventType.SDKEvent.showBanner,{style:{horizontal:"middle"}})},e.prototype._hideBanner=function(){this.emit(s.EventType.SDKEvent.hideBanner)},e.prototype._removeBanner=function(){this.emit(s.EventType.SDKEvent.hideBanner)},e.prototype.initBannerToucher=function(){this.bannerToucherBtn.init({cb:this.onBtnNextLevel,target:this,data:null},{id:c.AdConfig.bannerID.gameover,style:{horizontal:"middle"}})},e.prototype.onBtnNextLevel=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.exit,this.uiType),this.emit(s.EventType.GameFlow.enterLevel)},e.prototype.onBtnContinue=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.exit,this.uiType),this.emit(s.EventType.GameFlow.enterLevel)},e.prototype.onBtnShop=function(){this.emit(s.EventType.SDKEvent.hideBanner),this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.exit,this.uiType),this.emit(s.EventType.DirectorEvent.enterLobby,{data:{enterNextUI:"shop"}})},r([y(l.default)],e.prototype,"bannerToucherBtn",void 0),r([h],e)}(a.default);n.default=d,cc._RF.pop()},{"../../Script/Common/BannerToucherButton":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/AdConfig":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],PauseLevelUI:[function(t,e,n){"use strict";cc._RF.push(e,"b580e8N6V1Cj7m8FiIX97vL","PauseLevelUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Script/Common/yyComponent"),p=t("../../Script/GameSpecial/GameEventType"),s=t("../../Script/GameSpecial/GlobalEnum"),c=cc._decorator,l=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){this.initComponents(),this.node.active=!1},e.prototype.reset=function(){},e.prototype.show=function(){this.node.active||(this.emit(p.EventType.DirectorEvent.pauseLevel),this.emit(p.EventType.SDKEvent.showInsertByPauseLevel)),this.node.active=!0},e.prototype.hide=function(){this.node.active&&this.emit(p.EventType.DirectorEvent.resumeLevel),this.reset(),this.node.active=!1},e.prototype.onBtnLobby=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this.emit(p.EventType.UIEvent.exit,s.GlobalEnum.UI.pauseLevel),this.emit(p.EventType.DirectorEvent.enterLobby)},e.prototype.onBtnResume=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this.emit(p.EventType.UIEvent.exit,s.GlobalEnum.UI.pauseLevel)},e.prototype.onBtnReplay=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this.emit(p.EventType.UIEvent.exit,s.GlobalEnum.UI.pauseLevel),this.emit(p.EventType.DirectorEvent.replayCurLevel)},e.prototype.onBtnMoreGame=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this.emit(p.EventType.RecommendEvent.showLittlePage)},r([l],e)}(a.default));n.default=u,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],PlayerAnima:[function(t,e,n){"use strict";cc._RF.push(e,"afe88URhXBA2qLjRNaoWHgY","PlayerAnima");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../LevelScene/Script/Player/Player"),p=t("../../Script/Common/yyComponent"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e}return i(e,t),e.prototype.initPlayer=function(){var t=this.node.children[0];t&&(this.player=t.getComponent(a.default),this.player.speed=131)},e.prototype.playerToMove=function(){this.player&&this.player.node||this.initPlayer(),this.player&&this.player.node&&this.player.playAnim("pao")},e.prototype.playerToJump=function(){this.player&&this.player.node||this.initPlayer(),this.player&&this.player.node&&this.player.playAnim("tiao")},e.prototype.playerToStand=function(){this.player&&this.player.node||this.initPlayer(),this.player&&this.player.node&&this.player.playAnim("daiji")},r([c],e)}(p.default));n.default=l,cc._RF.pop()},{"../../LevelScene/Script/Player/Player":void 0,"../../Script/Common/yyComponent":void 0}],ResurgenceUI:[function(t,e,n){"use strict";cc._RF.push(e,"537ef5L6LZFSoQ2QezJLHX7","ResurgenceUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Script/Common/yyComponent"),p=t("../../Script/GameSpecial/GameEventType"),s=t("../../Script/GameSpecial/GlobalEnum"),c=cc._decorator,l=c.ccclass,u=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnCancel=null,e.curScore=null,e.maxScore=null,e.timer=null,e.t=0,e}return i(e,t),e.prototype.init=function(){this.initComponents(),this.initTimer(),this.hideBtnCancel()},e.prototype.reset=function(){this.resetTimer(),this.hideBtnCancel(),this.unschedule(this.showBtnCancel)},e.prototype.hideBtnCancel=function(){this.btnCancel.active=!1},e.prototype.showBtnCancel=function(){this.btnCancel.active=!0},e.prototype.initTimer=function(){},e.prototype.resetTimer=function(){this.t=10,this.timer.string=this.t.toString(),this.stopTimer()},e.prototype.updateTimer=function(){this.t-=1,this.t<=0&&(this.t=0,this.waitingTimeOver()),this.timer.string=this.t.toString()},e.prototype.waitingTimeOver=function(){this.stopTimer(),this.cancelFuHuo()},e.prototype.startTimer=function(){this.schedule(this.updateTimer,1)},e.prototype.stopTimer=function(){this.unschedule(this.updateTimer)},e.prototype.show=function(){this.node.active=!0,this.reset(),this.scheduleOnce(this.showBtnCancel,2),this.startTimer()},e.prototype.onBtnFuHuo=function(){this.stopTimer(),this.emit(p.EventType.AudioEvent.playClickBtn),this.emit(p.EventType.SDKEvent.showVideo,{success:this.fuHuo.bind(this),fail:this.startTimer.bind(this),quit:this.startTimer.bind(this)})},e.prototype.onBtnCancel=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this.cancelFuHuo()},e.prototype.cancelFuHuo=function(){this.emit(p.EventType.UIEvent.exit,s.GlobalEnum.UI.resurgence),this.emit(p.EventType.LevelEvent.cancelResurgence)},e.prototype.fuHuo=function(){this.emit(p.EventType.UIEvent.exit,s.GlobalEnum.UI.resurgence),this.emit(p.EventType.LevelEvent.resurgence)},r([u(cc.Node)],e.prototype,"btnCancel",void 0),r([u(cc.Label)],e.prototype,"curScore",void 0),r([u(cc.Label)],e.prototype,"maxScore",void 0),r([u(cc.Label)],e.prototype,"timer",void 0),r([l],e)}(a.default);n.default=h,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],TouchBannerUI2:[function(t,e,n){"use strict";cc._RF.push(e,"f5746AM1zBI0aYZBV+jlElv","TouchBannerUI2");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Script/Common/GameFlow"),p=t("../../Script/Common/GlobalPool"),s=t("../../Script/Common/Loader"),c=t("../../Script/Common/PlayerData"),l=t("../../Script/Common/yyComponent"),u=t("../../Script/GameSpecial/GameEventType"),h=t("../../Script/GameSpecial/GlobalEnum"),y=cc._decorator,d=y.ccclass,f=y.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bar=null,e.barTotalLength=0,e.progress=0,e.box=null,e.anima=null,e.playerNode=null,e.player=null,e.skin=1,e.touchCount=0,e.targetProgress=0,e.zadanbidiankaiguan=null,e.bannerShowing=!1,e.bannerShowCount=0,e.timerBanner3=null,e.award=!1,e.goldLabel=null,e}return i(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return h.GlobalEnum.UI.touchBannerLevelToWin},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.initAnim(),this.initProgress(),this.randomTouchCount(t)},e.prototype.reset=function(){this.resetAnim(),this.resetProgress(),this.award=!1},e.prototype.show=function(t){console.log("\u5f00\u5173\u914d\u7f6e\uff1a",t),this.node.active=!0,this.reset(),this.showPlayer(),this.randomTouchCount(t),this.zadanbidiankaiguan=0},e.prototype.hide=function(){this.off(u.EventType.SDKEvent.show,this.onShow,this),this.reset(),this.node.active=!1},e.prototype.initProgress=function(){this.barTotalLength=this.bar.getComponent(cc.Sprite).spriteFrame.getOriginalSize().width,this.progress=0,this.updateBarWidth()},e.prototype.resetProgress=function(){this.progress=0,this.updateBarWidth()},e.prototype.updateBarWidth=function(){var t=this.barTotalLength*this.progress;t<1&&(t=1),this.bar.width=t},e.prototype.updateProgress=function(t){this.progress>.7?this.subProgress(1.5*t):this.progress>.4?this.subProgress(1.2*t):this.subProgress(1*t)},e.prototype.subProgress=function(t){this.progress-=t,this.progress<0&&(this.progress=0),this.updateBarWidth()},e.prototype.addProgress=function(t){this.progress+=t,this.progress>1&&(this.progress=1),this.updateBarWidth(),this.progress>=1&&this.getGoldForTouchBanner()},e.prototype.initAnim=function(){},e.prototype.resetAnim=function(){this.player&&(p.default.put(this.player),this.player=null)},e.prototype.playAnim=function(){this.anima.play()},e.prototype.clickBox=function(){},e.prototype.onBoxAnimFinish=function(){},e.prototype.showPlayer=function(){var t=this;this.skin=c.default.getCurSkinId(h.GlobalEnum.GoodsType.playerSkin);var e;e=0==this.skin?"":this.skin.toString(),s.default.loadBundleRes("LevelScene","Prefab/Player"+e,function(e){var n=cc.instantiate(e);t.playerNode.addChild(n),n.setPosition(cc.v2(0,0)),t.player=n,t.player.group="default"},cc.Prefab,!0)},e.prototype.randomTouchCount=function(t){this.zadanType=a.default.getGlobalConfig("zadanshengjikaiguan")?2:1;var e=2,n=6;if(void 0!==t&&void 0!==t.config){var o="2-6".split("-");e=parseInt(o[0]),n=parseInt(o[1])}this.touchCount=e+Math.floor(Math.random()*(n-e+.999)),this.targetProgress=.1*this.touchCount,console.log("targetProgress:",this.targetProgress),this.bannerShowing=!1,this.bannerShowCount=0},e.prototype.onBtnShot=function(){switch(this.addProgress(.3),this.playAnim(),this.zadanType){case 1:this.zadan1();break;case 2:this.zadan2()}},e.prototype.zadan1=function(){if(!this.bannerShowing&&this.progress>=this.targetProgress){console.log("\u663e\u793abanner,",this.progress),this._showBanner(),this.bannerShowing=!0;var t=this.zadanbidiankaiguan;console.log("\u7838\u86cb\u5fc5\u70b9\u5f00\u5173: "+t),t&&1==t?(this.waitTouchBanner(),console.log("\u8fd8\u6ca1\u7ed3\u675f\uff0c\u5f97\u70b9\u51fbbanner\u624d\u53ef\u4ee5")):(this.autoHideBanner(),console.log("\u597d\u4e86\u7ee7\u7eed\u6e38\u620f\u5427"))}},e.prototype.autoHideBanner=function(){var t=this;setTimeout(function(){t.bannerShowing=!1,t._hideBanner(),t.getGoldForTouchBanner()},2e3)},e.prototype.waitTouchBanner=function(){var t=this;this.once(u.EventType.SDKEvent.show,this.onShow,this),setTimeout(function(){t._hideBanner(),t.bannerShowing=!1},2e3)},e.prototype.onShow=function(){this.node.activeInHierarchy&&(this.bannerShowing=!1,this._hideBanner(),null!==this.timerBanner3&&(clearTimeout(this.timerBanner3),this.timerBanner3=null),this.getGoldForTouchBanner())},e.prototype.zadan2=function(){if(!this.bannerShowing&&this.progress>=this.targetProgress)switch(this.bannerShowCount){case 0:this.showBanner1();break;case 1:this.showBanenr2()}},e.prototype.showBanner=function(){this._showBanner(),this.bannerShowing=!0,this.bannerShowCount++},e.prototype.showBanner1=function(){var t=this;this.showBanner(),this.once(u.EventType.SDKEvent.show,this.onShow,this),setTimeout(function(){t._hideBanner(),t.bannerShowing=!1},2e3),this.targetProgress=.01},e.prototype.showBanenr2=function(){var t=this;this.showBanner(),setTimeout(function(){t._hideBanner(),t.bannerShowing=!1},2e3),this.timerBanner3=setTimeout(this.showBanner3.bind(this),3e3)},e.prototype.showBanner3=function(){var t=this;this.node.activeInHierarchy&&(this.showBanner(),setTimeout(function(){t.bannerShowing=!1,t._hideBanner(),t.getGoldForTouchBanner()},2e3))},e.prototype.getGoldForTouchBanner=function(){this.award||(this.award=!0,this.emit(u.EventType.UIEvent.enter,h.GlobalEnum.UI.playerAssetBar),this.addGold(200,this.exit.bind(this)))},e.prototype.exit=function(){this.emit(u.EventType.UIEvent.exit,h.GlobalEnum.UI.playerAssetBar),this.emit(u.EventType.UIEvent.exit,this.uiType),this.emit(u.EventType.UIEvent.touchBannerFinish)},e.prototype.addGold=function(t,e){var n=this;this.emit(u.EventType.AudioEvent.playEffect,h.GlobalEnum.AudioClip.gold);var o=this.goldLabel.convertToWorldSpaceAR(cc.v2()),i=cc.find("Canvas");o.x-=.5*i.width,o.y-=.5*i.height,this.emit(u.EventType.UIEvent.playGoldAnim,{startPos:o,cb:function(){n.emit(u.EventType.PlayerDataEvent.updatePlayerData,{attribute:"gameData.asset.gold",value:t,mode:"+"}),e&&e()},gold:t})},e.prototype._showBanner=function(){this.emit(u.EventType.SDKEvent.showBanner,{style:{horizontal:"right"}})},e.prototype._hideBanner=function(){this.emit(u.EventType.SDKEvent.hideBanner)},e.prototype._removeBanner=function(){this.emit(u.EventType.SDKEvent.hideBanner)},e.prototype.update=function(t){this.updateProgress(t)},r([f(cc.Node)],e.prototype,"bar",void 0),r([f(cc.Node)],e.prototype,"box",void 0),r([f(cc.Animation)],e.prototype,"anima",void 0),r([f(cc.Node)],e.prototype,"playerNode",void 0),r([f(cc.Node)],e.prototype,"goldLabel",void 0),r([d],e)}(l.default);n.default=v,cc._RF.pop()},{"../../Script/Common/GameFlow":void 0,"../../Script/Common/GlobalPool":void 0,"../../Script/Common/Loader":void 0,"../../Script/Common/PlayerData":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],WinAnim:[function(t,e,n){"use strict";cc._RF.push(e,"2c9f1wU97FCOJH/XExKCKoF","WinAnim");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Script/Common/GlobalPool"),p=t("../../Script/Common/Action3dManager"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.imgs=[],e.minScale=.5,e.maxScale=2,e.minAngle=0,e.maxAngle=180,e.minSkew=0,e.maxSkew=5,e.duration=1,e.minSpd=1500,e.maxSpd=2500,e.gravity=-3e3,e.count=100,e.particles=[],e.index=0,e.finishCallFun=null,e}return i(e,t),e.prototype.addItem=function(){this.index++,this.index>=this.imgs.length&&(this.index=0);var t=a.default.get(this.prefab.name);t.getComponent(cc.Sprite).spriteFrame=this.imgs[this.index];var e=this.randomScope(this.minScale,this.maxScale),n=this.randomScope(this.minAngle,this.maxAngle);t.setScale(e),t.angle=n;var o=this.duration,i=p.default.scaleTo(o,this.randomScope(this.minScale,this.maxScale),this.randomScope(this.minScale,this.maxScale),1),r=p.default.rotateTo2d(o,this.randomScope(this.minAngle,this.maxAngle)),s=p.default.spawn(i,r);p.default.getMng(p.ActionMngType.UI).runAction(t,s);var c=cc.v2(),l=this.minSpd+Math.random()*(this.maxSpd-this.minSpd),u=3.14*(.5*Math.random()+.25);c.x=l*Math.cos(u),c.y=l*Math.sin(u),this.particles.push(new h(t,c,this.gravity)),t.setPosition(0,0),this.node.addChild(t)},e.prototype.randomScope=function(t,e){return t+Math.random()*(e-t)},e.prototype.play=function(t){t&&(this.finishCallFun=t);var e=this.count;a.default.createPool(this.prefab.name,this.prefab),a.default.preCreate(this.prefab.name,e);for(var n=0;n<this.count;++n)this.addItem();this.schedule(this.step,.016)},e.prototype.step=function(){for(var t=this.particles.length-1;t>=0;--t)this.particles[t].update(.016),this.particles[t].finished&&(a.default.put(this.particles[t].node),this.particles.splice(t,1));0==this.particles.length&&this.onFinish()},e.prototype.onFinish=function(){if(this.unscheduleAllCallbacks(),this.finishCallFun){var t=this.finishCallFun;this.finishCallFun=null,t()}},r([l(cc.Prefab)],e.prototype,"prefab",void 0),r([l([cc.SpriteFrame])],e.prototype,"imgs",void 0),r([l(cc.Integer)],e.prototype,"minScale",void 0),r([l(cc.Integer)],e.prototype,"maxScale",void 0),r([l(cc.Integer)],e.prototype,"minAngle",void 0),r([l(cc.Integer)],e.prototype,"maxAngle",void 0),r([l(cc.Integer)],e.prototype,"minSkew",void 0),r([l(cc.Integer)],e.prototype,"maxSkew",void 0),r([l(cc.Integer)],e.prototype,"duration",void 0),r([l(cc.Integer)],e.prototype,"minSpd",void 0),r([l(cc.Integer)],e.prototype,"maxSpd",void 0),r([l(cc.Integer)],e.prototype,"gravity",void 0),r([l(cc.Integer)],e.prototype,"count",void 0),r([c],e)}(cc.Component);n.default=u;var h=function(){function t(t,e,n){this.node=t,this.spd=e,this.gravity=n}return t.prototype.update=function(t){this.spd.y+=this.gravity*t,this.node.setPosition(this.node.x+this.spd.x*t,this.node.y+this.spd.y*t)},Object.defineProperty(t.prototype,"finished",{get:function(){return this.node.y<-667},enumerable:!1,configurable:!0}),t}();cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/GlobalPool":void 0}],WinUI:[function(t,e,n){"use strict";cc._RF.push(e,"d8843No3IJGf4jWUiXUAgX3","WinUI");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,a=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var p=t.length-1;p>=0;p--)(i=t[p])&&(a=(r<3?i(a):r>3?i(e,n,a):i(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Script/Common/yyComponent"),p=t("../../Script/GameSpecial/GlobalEnum"),s=t("../../Script/GameSpecial/GameEventType"),c=t("../../Script/Common/Loader"),l=t("../../Script/Common/PlayerData"),u=t("../../LevelScene/Script/Player/Player"),h=t("../../Script/Common/GlobalPool"),y=t("./WinAnim"),d=cc._decorator,f=d.ccclass,v=d.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=null,e.player=null,e.anima=null,e}return i(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return p.GlobalEnum.UI.winUI},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.initComponents()},e.prototype.reset=function(){this.player&&(h.default.put(this.player.node),this.player=null)},e.prototype.setData=function(t){this.data=t},e.prototype.show=function(t){this.emit(s.EventType.AudioEvent.playEffect,p.GlobalEnum.AudioClip.win),this.reset(),this.showPlayer(),this.node.active=!0,void 0!==t&&void 0!==t.data&&this.setData(t.data),this.anima.play()},e.prototype._showBanner=function(){this.emit(s.EventType.SDKEvent.showBanner,{style:{horizontal:"middle"}})},e.prototype._hideBanner=function(){this.emit(s.EventType.SDKEvent.hideBanner)},e.prototype._removeBanner=function(){this.emit(s.EventType.SDKEvent.hideBanner)},e.prototype.backLobby=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.exit,this.uiType),this.emit(s.EventType.DirectorEvent.enterLobby)},e.prototype.nextLevel=function(){this.emit(s.EventType.AudioEvent.playClickBtn),this.emit(s.EventType.UIEvent.exit,this.uiType),this.emit(s.EventType.GameFlow.enterLevel)},e.prototype.showPlayer=function(){var t,e=this,n=l.default.getCurSkinId(p.GlobalEnum.GoodsType.playerSkin);t=0==n?"":n.toString(),c.default.loadBundleRes("LevelScene","Prefab/Player"+t,function(t){var n=cc.instantiate(t);e.node.getChildByName("player").addChild(n),e.player=n.getComponent(u.default),e.player.node.group="default"},cc.Prefab,!0)},r([v(y.default)],e.prototype,"anima",void 0),r([f],e)}(a.default);n.default=m,cc._RF.pop()},{"../../LevelScene/Script/Player/Player":void 0,"../../Script/Common/GlobalPool":void 0,"../../Script/Common/Loader":void 0,"../../Script/Common/PlayerData":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0,"./WinAnim":"WinAnim"}]},{},["AwardUI","ClickTip","LevelInfoUI","LoseUI","PauseLevelUI","ResurgenceUI","TouchBannerUI2","PlayerAnima","WinAnim","WinUI"]);