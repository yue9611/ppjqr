window.__require=function t(e,o,i){function n(s,p){if(!o[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var a="function"==typeof __require&&__require;if(!p&&a)return a(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var l=o[s]={exports:{}};e[s][0].call(l.exports,function(t){return n(e[s][1][t]||t)},l,l.exports,t,e,o,i)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)n(i[s]);return n}({Barrier1:[function(t,e,o){"use strict";cc._RF.push(e,"d8ad5l2xchAN6bL67waWMUL","Barrier1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.barrier,e.box=null,e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){this.node.active=!0},e.prototype.unuse=function(){this.node.active=!1},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),this.resetCollisDirecs(),this.updateWidget()},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(p.default);e.type==s.GlobalEnum.CollisType.palyer&&e.beInjured&&e.beInjured()},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Barrier2_1:[function(t,e,o){"use strict";cc._RF.push(e,"750bdzgRvtFI7r6Xnrcb/xg","Barrier2_1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.barrier,e}return n(e,t),e.prototype.init=function(){},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(p.default);e.type==s.GlobalEnum.CollisType.palyer&&e.beInjured&&e.beInjured()},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Barrier2:[function(t,e,o){"use strict";cc._RF.push(e,"bce8dfIksBHKKP9Gd4g6fV5","Barrier2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.barrier,e.barrier=null,e}return n(e,t),e.prototype.init=function(){this.barrier.getComponent(c.default).init()},e.prototype.reuse=function(){},e.prototype.unuse=function(){s.default.getMng(s.ActionMngType.Level).stopAllActions(this.barrier)},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),this.node.getChildByName("pathway").getComponent(cc.Widget).updateAlignment(),this.setPlatformMove()},e.prototype.setPlatformMove=function(){var t=this.node.width/80*.5,e=cc.v2(-this.node.width/2,0),o=cc.v2(this.node.width/2,0);this.barrier.setPosition(e);var i=s.default.getMng(s.ActionMngType.Level);i.stopAllActions(this.barrier);var n=s.default.moveTo(t,o.x,o.y),r=s.default.moveTo(t,e.x,e.y),p=s.default.sequence(n,r),c=s.default.repeatForever(p);i.runAction(this.barrier,c)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([u(cc.Node)],e.prototype,"barrier",void 0),r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Barrier3:[function(t,e,o){"use strict";cc._RF.push(e,"01ff7D3lmFDeYEKpqbjRvWs","Barrier3");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.barrier,e.barrier=null,e}return n(e,t),e.prototype.init=function(){this.barrier.getComponent(c.default).init()},e.prototype.reuse=function(){},e.prototype.unuse=function(){s.default.getMng(s.ActionMngType.Level).stopAllActions(this.barrier)},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),this.node.getChildByName("pathway").getComponent(cc.Widget).updateAlignment(),this.setPlatformMove()},e.prototype.setPlatformMove=function(){var t=this.node.height/80*.5,e=cc.v2(0,-this.node.height/2),o=cc.v2(0,this.node.height/2);this.barrier.setPosition(e);var i=s.default.getMng(s.ActionMngType.Level);i.stopAllActions(this.barrier);var n=s.default.moveTo(t,o.x,o.y),r=s.default.moveTo(t,e.x,e.y),p=s.default.sequence(n,r),c=s.default.repeatForever(p);i.runAction(this.barrier,c)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([u(cc.Node)],e.prototype,"barrier",void 0),r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Barrier4:[function(t,e,o){"use strict";cc._RF.push(e,"38122RYx4NHh55CUJB/sV9h","Barrier4");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.barrier,e.box=null,e.stab=null,e}return n(e,t),e.prototype.init=function(){this.stab.getComponent(p.default).init(),this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){this.stab.getComponent(p.default).init()},e.prototype.unuse=function(){},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),this.resetCollisDirecs(),this.updateWidget()},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,-this.node.height/2)},e.prototype.onCollisionEnter=function(t){t.node.getComponent(p.default).type==s.GlobalEnum.CollisType.palyer&&this.startDrop()},e.prototype.startDrop=function(){this.stab.getComponent(p.default).drop()},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([l(cc.Node)],e.prototype,"stab",void 0),r([a],e)}(p.default);o.default=u,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],BombLVUp:[function(t,e,o){"use strict";cc._RF.push(e,"73d4bqekAZDY5APAs1Wt0XV","BombLVUp");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.prop,e.value=1,e.used=!1,e.box=null,e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.used=!1,this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){this.node.active=!0,this.used=!1},e.prototype.unuse=function(){this.node.active=!1,this.used=!1},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),t.value&&(this.value=t.value),this.resetCollisDirecs()},e.prototype.onCollisionEnter=function(t){if(!this.used){var e=t.node.getComponent(c.default);e.type==p.GlobalEnum.CollisType.palyer&&(this.used=!0,this.bombLVUpGet(),e.bombLVUpGet(this.value))}},e.prototype.bombLVUpGet=function(){this.node.active=!1,s.default.put(this.node)},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t.value=this.value,t},r([u({type:cc.Integer})],e.prototype,"value",void 0),r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],BombNumUp:[function(t,e,o){"use strict";cc._RF.push(e,"8f36dbFUexGMINoJ7F5/rNz","BombNumUp");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.prop,e.value=1,e.used=!1,e.box=null,e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.used=!1,this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){this.node.active=!0,this.used=!1},e.prototype.unuse=function(){this.node.active=!1,this.used=!1},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),t.value&&(this.value=t.value),this.resetCollisDirecs()},e.prototype.onCollisionEnter=function(t){if(!this.used){var e=t.node.getComponent(c.default);e.type==p.GlobalEnum.CollisType.palyer&&(this.used=!0,this.bombNumUpGet(),e.bombNumUpGet(this.value))}},e.prototype.bombNumUpGet=function(){this.node.active=!1,s.default.put(this.node)},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t.value=this.value,t},r([u({type:cc.Integer})],e.prototype,"value",void 0),r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],ChangeRole:[function(t,e,o){"use strict";cc._RF.push(e,"01f834T2DFOw59c3pRTy1WA","ChangeRole");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),p=t("../../../Script/GameSpecial/GameEventType"),c=t("../../../Script/GameSpecial/GlobalEnum"),a=t("../CollisType"),l=cc._decorator,u=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.GlobalEnum.CollisType.terminus,e.sprites=[],e.tip=null,e.role=c.RoleEnum.null,e.box=null,e.time=0,e}return n(e,t),e.prototype.init=function(){this.node.active=!0},e.prototype.reuse=function(){this.node.active=!0},e.prototype.unuse=function(){this.node.active=!1},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),t.role&&(this.role=t.role),this.showRole(),this.resetCollisDirecs(),this.showTip()},e.prototype.onCollisionEnter=function(t){if(t.node.getComponent(a.default).type==c.GlobalEnum.CollisType.palyer){this.node.active=!1;var e=0;switch(this.role){case c.RoleEnum.waterRole:e=1;break;case c.RoleEnum.gasRole:e=2;break;case c.RoleEnum.fireRole:e=3;break;case c.RoleEnum.lightningRole:e=4}this.emit(p.EventType.PlayerEvent.changeRole,{roleID:e})}},e.prototype._showRole=function(t){for(var e=0;e<this.sprites.length;e++)this.sprites[e].active=e==t},e.prototype.showRole=function(){switch(this.role){case c.RoleEnum.waterRole:this._showRole(0);break;case c.RoleEnum.gasRole:this._showRole(1);break;case c.RoleEnum.fireRole:this._showRole(2);break;case c.RoleEnum.lightningRole:this._showRole(3)}},e.prototype.showTip=function(){this.tip||(this.tip=this.node.getChildByName("tip")),this.tip.active=!0;var t=s.default.scaleTo(.5,1.1,1.1),e=s.default.scaleTo(.5,.9,.9),o=s.default.sequence(t,e),i=s.default.repeatForever(o);s.default.getMng(s.ActionMngType.UI).runAction(this.tip,i)},e.prototype.hideTip=function(){this.tip||(this.tip=this.node.getChildByName("tip")),this.tip.active=!1,s.default.getMng(s.ActionMngType.UI).stopAllActions(this.tip)},e.prototype.resetCollisDirecs=function(){this.box||(this.box=this.node.getComponent(cc.BoxCollider)),this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.role=this.role,t.size=[this.node.width,this.node.height],t},e.prototype.update=function(){},r([h([cc.Node])],e.prototype,"sprites",void 0),r([h({type:cc.Enum(c.RoleEnum)})],e.prototype,"role",void 0),r([u],e)}(a.default);o.default=f,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],CollisManager:[function(t,e,o){"use strict";cc._RF.push(e,"351edtf6K1K0J6mlQeAEmHr","CollisManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/yyComponent"),p=cc._decorator,c=p.ccclass,a=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.init=function(){},r([c],e)}(s.default));o.default=a,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0}],CollisType:[function(t,e,o){"use strict";cc._RF.push(e,"11681H1dRxEOpKdIlUSSgFf","CollisType");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/yyComponent"),p=cc._decorator,c=p.ccclass,a=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=null,e}return n(e,t),e.prototype.init=function(){},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(){},e.prototype.collisDirec=function(t,e){var o=e.world.preAabb,i=t.world.preAabb;return o.x+o.width<i.x?"-x":o.x>i.x+i.width?"+x":o.y+o.height<i.y?"-y":o.y>i.y+i.height?"+y":void 0},e.prototype.updateWidget=function(){for(var t=this.node.getComponentsInChildren(cc.Widget),e=0;e<t.length;e++)t[e].updateAlignment()},e.prototype.getMapData=function(){var t={};return t.name=this.node.name,t.pos=[this.node.x,this.node.y],t.data=this._getMapData(),t},e.prototype._getMapData=function(){return{}},r([c],e)}(s.default));o.default=a,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0}],ControlUI:[function(t,e,o){"use strict";cc._RF.push(e,"c33d5gQFEpP0ZvDs0j2j8ZH","ControlUI");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/GlobalPool"),p=t("../../Script/Common/yyComponent"),c=t("../../Script/GameSpecial/GameEventType"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.left=null,e.right=null,e.jump=null,e.bomb=null,e.bombNum=null,e.bombLv=null,e.speedUp=null,e.gold=null,e.life=null,e.lifeLab=null,e.playData={Gold:0,Life:3,BLV:1,BNum:1,SLV:1},e.starNodes=[],e.lv=null,e.isShowTip=!1,e}return n(e,t),e.prototype.init=function(){this.onEvents(),this.initBtn(),this.setUI(),this.node.active=!1},e.prototype.reset=function(){this.offEvents(),this.node.active=!1},e.prototype.setData=function(t){this.onEvents(),this.node.active=!0;var e=this.node.getComponent(cc.Widget);e.target=t,e.updateAlignment()},e.prototype.enter=function(t){this.node.active=!0,this.setLv(t)},e.prototype.onEvents=function(){this.on(c.EventType.ControlEvent.changeUI,this.resetUI,this),this.on(c.EventType.ControlEvent.starGet,this.starChange,this),this.left.on("touchstart",this.leftDown,this),this.left.on("touchend",this.leftUp,this),this.left.on("touchcancel",this.leftUp,this),this.right.on("touchstart",this.rightDown,this),this.right.on("touchend",this.rightUp,this),this.right.on("touchcancel",this.rightUp,this),this.jump.on("touchstart",this.jumpDown,this),this.jump.on("touchend",this.jumpUp,this),this.jump.on("touchcancel",this.jumpUp,this),this.bomb.on("touchstart",this.bombDown,this),this.bomb.on("touchend",this.bombUp,this),this.bomb.on("touchcancel",this.bombUp,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onkeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onkeyUp,this)},e.prototype.offEvents=function(){this.off(c.EventType.ControlEvent.changeUI,this.resetUI,this),this.off(c.EventType.ControlEvent.starGet,this.starChange,this),this.left.off("touchstart",this.leftDown,this),this.left.off("touchend",this.leftUp,this),this.left.off("touchcancel",this.leftUp,this),this.right.off("touchstart",this.rightDown,this),this.right.off("touchend",this.rightUp,this),this.right.off("touchcancel",this.rightUp,this),this.jump.off("touchstart",this.jumpDown,this),this.jump.off("touchend",this.jumpUp,this),this.jump.off("touchcancel",this.jumpUp,this),this.bomb.off("touchstart",this.bombDown,this),this.bomb.off("touchend",this.bombUp,this),this.bomb.off("touchcancel",this.bombUp,this)},e.prototype.initBtn=function(){this.left.addComponent(cc.Button).transition=cc.Button.Transition.COLOR,this.right.addComponent(cc.Button).transition=cc.Button.Transition.COLOR,this.jump.addComponent(cc.Button).transition=cc.Button.Transition.COLOR,this.bomb.addComponent(cc.Button).transition=cc.Button.Transition.COLOR},e.prototype.leftDown=function(){this.emit(c.EventType.ControlEvent.down,cc.macro.KEY.a)},e.prototype.leftUp=function(){this.emit(c.EventType.ControlEvent.up,cc.macro.KEY.a)},e.prototype.rightDown=function(){var t=this;this.emit(c.EventType.ControlEvent.down,cc.macro.KEY.d),this.isShowTip&&(this.isShowTip=!1,setTimeout(function(){t.showTip()},2e3))},e.prototype.rightUp=function(){this.emit(c.EventType.ControlEvent.up,cc.macro.KEY.d)},e.prototype.jumpDown=function(){this.emit(c.EventType.ControlEvent.down,cc.macro.KEY.k)},e.prototype.jumpUp=function(){this.emit(c.EventType.ControlEvent.up,cc.macro.KEY.k)},e.prototype.bombDown=function(){this.emit(c.EventType.ControlEvent.down,cc.macro.KEY.j)},e.prototype.bombUp=function(){this.emit(c.EventType.ControlEvent.up,cc.macro.KEY.j)},e.prototype.onkeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.a:this.leftDown();break;case cc.macro.KEY.d:this.rightDown();break;case cc.macro.KEY.j:this.bombDown();break;case cc.macro.KEY.k:this.jumpDown()}},e.prototype.onkeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.a:this.leftUp();break;case cc.macro.KEY.d:this.rightUp();break;case cc.macro.KEY.j:this.bombUp();break;case cc.macro.KEY.k:this.jumpUp()}},e.prototype.setUI=function(){this.bombNum.string=""+this.playData.BNum,this.bombLv.string=""+this.playData.BLV,this.speedUp.string=""+this.playData.SLV,this.gold.string=""+this.playData.Gold,this.lifeLab.string=""+this.playData.Life},e.prototype.setLife=function(){if(this.playData.Life>0)for(;this.life.childrenCount!==this.playData.Life;)if(this.life.children.length<this.playData.Life){var t=s.default.get("LifeUI");this.life.addChild(t)}else t=this.life.children[0],s.default.put(t)},e.prototype.resetUI=function(t){for(var e in t)this.playData[e]=t[e];this.setUI()},e.prototype.starChange=function(t){for(var e=0;e<this.starNodes.length;e++)this.starNodes[e].active=e<t},e.prototype.setLv=function(t){this.lv.string=""+t,1==t&&(this.isShowTip=!0)},e.prototype.showTip=function(){var t=this.bomb.convertToWorldSpaceAR(cc.v2());this.emit(c.EventType.UIEvent.showClickTip,{worldPos:t})},r([u(cc.Node)],e.prototype,"left",void 0),r([u(cc.Node)],e.prototype,"right",void 0),r([u(cc.Node)],e.prototype,"jump",void 0),r([u(cc.Node)],e.prototype,"bomb",void 0),r([u(cc.Label)],e.prototype,"bombNum",void 0),r([u(cc.Label)],e.prototype,"bombLv",void 0),r([u(cc.Label)],e.prototype,"speedUp",void 0),r([u(cc.Label)],e.prototype,"gold",void 0),r([u(cc.Node)],e.prototype,"life",void 0),r([u(cc.Label)],e.prototype,"lifeLab",void 0),r([u([cc.Node])],e.prototype,"starNodes",void 0),r([u(cc.Label)],e.prototype,"lv",void 0),r([l],e)}(p.default);o.default=h,cc._RF.pop()},{"../../Script/Common/GlobalPool":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0}],FireBombEffect:[function(t,e,o){"use strict";cc._RF.push(e,"c5c786QD+ZInZqOov23Tnyo","FireBombEffect");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/Common/yyComponent"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anima=null,e}return n(e,t),e.prototype.init=function(){this.anima=this.node.getComponent(cc.Animation),this.anima.play()},e.prototype.reuse=function(){this.anima.play()},e.prototype.unuse=function(){this.anima.stop()},e.prototype.animaOver=function(){s.default.put(this.node)},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/yyComponent":void 0}],FireBomb:[function(t,e,o){"use strict";cc._RF.push(e,"fda50kHmApLgIlyDg/M9Mx3","FireBomb");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),p=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/GameSpecial/GameEventType"),a=t("../../../Script/GameSpecial/GlobalEnum"),l=t("../CollisType"),u=t("./FirePower"),h=cc._decorator,f=h.ccclass,d=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.GlobalEnum.CollisType.prop,e.bombType=a.GlobalEnum.BombType.FireBomb,e.powers=[],e.speed=0,e.a=320,e.impending=!1,e.countDown=5,e.BLV=1,e.bombTime=0,e.bombing=!1,e.onceTime=1.5,e.bomb=null,e.anima=null,e.bombed=!1,e}return n(e,t),e.prototype.init=function(){this.node.active=!1;for(var t=0;t<this.powers.length;t++)this.powers[t].init();this.bomb.active=!0,this.stopBombAnima(),this.initData()},e.prototype.reuse=function(){this.node.active=!1;for(var t=0;t<this.powers.length;t++)this.powers[t].reuse();this.bomb.active=!0,this.stopBombAnima(),this.initData()},e.prototype.unuse=function(){this.node.active=!1;for(var t=0;t<this.powers.length;t++)this.powers[t].unuse();this.bomb.active=!0,this.stopBombAnima(),this.initData()},e.prototype.use=function(t){this.node.active=!0,this.speed=-100,this.impending=!0,this.countDown=t.time,this.BLV=t.BLV;var e;e=this.BLV>10?1:.05*this.BLV,this.countDown-=e,this.bombed=!1,this.countDownAnim(),this.bomb.active=!0;for(var o=0;o<this.powers.length;o++)this.powers[o].setData({BLV:this.BLV})},e.prototype.onCollisionEnter=function(t,e){var o=t.node.getComponent(l.default);if((o.type==a.GlobalEnum.CollisType.terrain||o.type==a.GlobalEnum.CollisType.vessel||o.type==a.GlobalEnum.CollisType.moveTerrain)&&"+y"==this.collisDirec(t,e)){this.impending=!1;var i=e.world.preAabb,n=e.world.aabb.y-i.y,r=this.node.getPosition();r.y-=n,this.node.setPosition(r)}console.log("Bomb")},e.prototype.initData=function(){this.speed=200,this.countDown=5,this.BLV=1,this.bombTime=0,this.bombing=!1,this.onceTime=1.5},e.prototype.update=function(t){if(this.impending?this.speed-=this.a*t:this.speed=0,0!=this.speed){var e=this.node.getPosition();e.y+=this.speed*t,this.node.setPosition(e)}this.bombing?(this.bombTime+=t,this.bombed||(this.bombed=!0,this.emit(c.EventType.AudioEvent.playEffect,a.GlobalEnum.AudioClip.bomb),s.default.getMng(s.ActionMngType.UI).stopAllActions(this.node),this.Bomb()),this.bombTime>this.onceTime&&(this.node.active=!1,this.emit(c.EventType.BombEvent.explodeEnd),p.default.put(this.node))):(this.countDown-=t,this.countDown<=0&&(this.bombing=!0))},e.prototype.Bomb=function(){this.bomb.active=!1,this.playBombAnima();for(var t=0;t<this.powers.length;t++)this.powers[t].bomb()},e.prototype.countDownAnim=function(){var t=s.default.scaleTo(.2,.75,.75),e=s.default.scaleTo(.2,1.3,1.3),o=s.default.sequence(t,e),i=s.default.repeatForever(o);s.default.getMng(s.ActionMngType.UI).runAction(this.bomb,i)},e.prototype.playBombAnima=function(){this.anima.play()},e.prototype.stopBombAnima=function(){this.anima.stop()},e.prototype.flick=function(){this.impending=!0,this.speed=200},e.prototype.platformove=function(t){var e=this.node.getPosition();e.addSelf(t),this.node.setPosition(e)},r([d([u.default])],e.prototype,"powers",void 0),r([d(cc.Node)],e.prototype,"bomb",void 0),r([d(cc.Animation)],e.prototype,"anima",void 0),r([f],e)}(l.default);o.default=y,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType","./FirePower":"FirePower"}],FirePower:[function(t,e,o){"use strict";cc._RF.push(e,"30b471dQrtHjagTUsHjZRJ3","FirePower");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GameEventType"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.prop,e.bombType=p.GlobalEnum.BombType.FireBomb,e.box=null,e.BLV=1,e.speed=1e3,e.isBomb=!1,e.anima=null,e}return n(e,t),e.prototype.init=function(){this.node.active=!1,this.reset()},e.prototype.reuse=function(){this.node.active=!1,this.reset()},e.prototype.unuse=function(){this.node.active=!1,this.reset()},e.prototype.reset=function(){this.anima||(this.anima=this.node.getComponent(cc.Animation)),this.anima.stop(),this.node.setPosition(cc.v2())},e.prototype.setData=function(t){this.BLV=t.BLV},e.prototype.resetBox=function(){this.box||(this.box=this.node.getComponent(cc.BoxCollider)),this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(c.default);if(e.type==p.GlobalEnum.CollisType.vessel){var o=e.node.convertToWorldSpaceAR(cc.v2());this.emit(s.EventType.BombEvent.playEffect,{pos:o,type:this.bombType}),e.destruction&&e.destruction(),this.node.active=!1}else e.type==p.GlobalEnum.CollisType.foe?(o=e.node.convertToWorldSpaceAR(cc.v2()),this.emit(s.EventType.BombEvent.playEffect,{pos:o,type:this.bombType}),e.foeDie&&e.foeDie(),this.node.active=!1):e.type!=p.GlobalEnum.CollisType.terrain&&e.type!=p.GlobalEnum.CollisType.moveTerrain||(this.node.active=!1)},e.prototype.bomb=function(){this.node.active=!0,this.isBomb=!0,this.anima||(this.anima=this.node.getComponent(cc.Animation)),this.anima.play()},e.prototype.update=function(t){if(this.isBomb){var e=this.node.getPosition();e.x+=this.speed*t,this.node.setPosition(e)}},r([l],e)}(c.default));o.default=u,cc._RF.pop()},{"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Foe1:[function(t,e,o){"use strict";cc._RF.push(e,"cba00GSVYdEDIC20tSIuO13","Foe1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/GameEventType"),c=t("../../../Script/GameSpecial/GlobalEnum"),a=t("./Foe"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.GlobalEnum.CollisType.foe,e.life=1,e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.resetScrData(),this.runAnim(),this.customStep=this.updateStep},e.prototype.reuse=function(){this.node.active=!0,this.resetScrData(),this.runAnim(),this.customStep=this.updateStep},e.prototype.unuse=function(){this.node.active=!1,this.customStep=this.stepEmpty},e.prototype.resetScrData=function(){this.direct=1,this.life=1,this.impending=!0,this.speedMax=120,this.speedY=0,this.CollisX=[],this.CollisY=[]},e.prototype.foeDie=function(){var t=this;this.life>0&&(this.life--,this.node.active=!1,this.customStep=this.stepEmpty,this.emit(p.EventType.FoeEvent.die),setTimeout(function(){t.bombEnd()},300))},e.prototype.runAnim=function(){this.anim||(this.anim=this.node.getComponent(cc.Animation)),this.anim.play("foe1_run")},e.prototype.bombAnim=function(){this.anim||(this.anim=this.node.getComponent(cc.Animation)),this.anim.play("foe_bomb")},e.prototype.bombEnd=function(){var t=this;setTimeout(function(){t.drop!==c.PropEnum.null&&t.emit(p.EventType.VesselEvent.dropProp,{pos:t.node.convertToWorldSpaceAR(cc.v2()),drop:t.drop,value:t.dropValue}),s.default.put(t.node),t.node.active=!1},100)},r([u],e)}(a.default));o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"./Foe":"Foe"}],Foe2:[function(t,e,o){"use strict";cc._RF.push(e,"b0433e9vc9JeablKoEPFrQR","Foe2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/GameEventType"),c=t("../../../Script/GameSpecial/GlobalEnum"),a=t("./Foe"),l=cc._decorator,u=l.ccclass,h=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.GlobalEnum.CollisType.foe,e.life=2,e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.resetScrData(),this.runAnim(),this.customStep=this.updateStep},e.prototype.reuse=function(){this.node.active=!0,this.resetScrData(),this.runAnim(),this.customStep=this.updateStep},e.prototype.unuse=function(){this.node.active=!1,this.customStep=this.stepEmpty},e.prototype.resetScrData=function(){this.direct=1,this.life=2,this.impending=!0,this.speedMax=100,this.speedY=0,this.CollisX=[],this.CollisY=[]},e.prototype.foeDie=function(){var t=this;this.life>0&&(this.life--,this.node.active=!1,this.customStep=this.stepEmpty,this.emit(p.EventType.FoeEvent.die),setTimeout(function(){t.bombEnd()},300))},e.prototype.runAnim=function(){this.anim||(this.anim=this.node.getComponent(cc.Animation)),this.anim.play("foe2_run")},e.prototype.bombAnim=function(){this.anim||(this.anim=this.node.getComponent(cc.Animation)),this.anim.play("foe_bomb")},e.prototype.bombEnd=function(){var t=this;setTimeout(function(){t.drop!==c.PropEnum.null&&t.emit(p.EventType.VesselEvent.dropProp,{pos:t.node.convertToWorldSpaceAR(cc.v2()),drop:t.drop,value:t.dropValue}),s.default.put(t.node),t.node.active=!1},100)},r([u],e)}(a.default));o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"./Foe":"Foe"}],Foe:[function(t,e,o){"use strict";cc._RF.push(e,"f6af9b/VwRIQrEqO+XudJby","Foe");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.foe,e.drop=s.PropEnum.null,e.dropValue=0,e.body=null,e.anim=null,e.invincibleTime=5,e.speedMax=0,e.speed=0,e.direct=1,e.impending=!0,e.speedYOrigin=600,e.speedY=0,e.g=640,e.CollisX=[],e.CollisY=[],e.delaymoveX=0,e.delaymoveY=0,e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.resetScrData()},e.prototype.reuse=function(){this.node.active=!0,this.resetScrData()},e.prototype.unuse=function(){this.node.active=!1},e.prototype.setData=function(t){t.drop&&(this.drop=t.drop),t.value&&(this.dropValue=t.value)},e.prototype._getMapData=function(){var t={};return t.drop=this.drop,t.value=this.dropValue,t},e.prototype.playAnim=function(){this.anim||(this.anim=this.node.getComponent(cc.Animation)),this.anim.play()},e.prototype.runAnim=function(){},e.prototype.bombAnim=function(){},e.prototype.stopAnim=function(){this.anim||(this.anim=this.node.getComponent(cc.Animation)),this.anim.stop()},e.prototype.resetScrData=function(){this.direct=1,this.impending=!0,this.speed=100,this.speedY=0,this.CollisX=[],this.CollisY=[]},e.prototype.updateStep=function(t){var e;this.node.scaleX=this.direct,this.impending?(this.speedY<.75*-this.speedYOrigin?this.speedY=.75*-this.speedYOrigin:this.speedY-=this.g*t,(e=this.node.getPosition()).y+=this.speedY*t,this.node.setPosition(e)):(this.speedY=0,this.speed=this.direct*this.speedMax,(e=this.node.getPosition()).x+=this.speed*t,this.node.setPosition(e)),0==this.CollisY.length&&(this.impending=!0)},e.prototype.startMoveLeft=function(){this.direct=-1},e.prototype.endMoveLeft=function(){this.direct=0},e.prototype.startMoveRight=function(){this.direct=1},e.prototype.endMoveRight=function(){this.direct=0},e.prototype.fallToTheGround=function(){this.impending=!1,this.speedY=0},e.prototype.againstTheWall=function(){this.direct=-this.speed/Math.abs(this.speed)},e.prototype.onCollisionEnter=function(t,e){var o=t.world.aabb,i=t.node.getComponent(p.default);if(i.type==s.GlobalEnum.CollisType.terrain||i.type==s.GlobalEnum.CollisType.moveTerrain||i.type==s.GlobalEnum.CollisType.vessel){var n=e.world.aabb,r=this.collisDirec(t,e);if("-x"==r||"+x"==r)(o.y+o.height-n.y)/n.height>.05?(this.againstTheWall(),this.CollisX.push(t.uuid)):(this.fallToTheGround(),this.CollisY.push(t.uuid));else if("+y"==r){var c=n.x<o.x?n.x:o.x,a=n.x+n.width<o.x+o.width?o.x+o.width:n.x+n.width;(n.width+o.width-(a-c))/n.width>.05?(this.fallToTheGround(),this.CollisY.push(t.uuid)):(this.againstTheWall(),this.CollisX.push(t.uuid))}}else i.type==s.GlobalEnum.CollisType.palyer&&i.beInjured&&i.beInjured()},e.prototype.onCollisionStay=function(t,e){if(1==this.CollisY.length&&t.uuid==this.CollisY[0]){var o=t.world.aabb,i=e.world.aabb,n=i.x<o.x,r=i.x+i.width>o.x+o.width;n&&r?this.CollisY=[]:n?this.direct=1:r&&(this.direct=-1)}},e.prototype.onCollisionExit=function(t){var e=t.node.getComponent(p.default);if(e.type==s.GlobalEnum.CollisType.terrain||e.type==s.GlobalEnum.CollisType.moveTerrain||e.type==s.GlobalEnum.CollisType.vessel||e.type==s.GlobalEnum.CollisType.prop){var o=this.CollisX.indexOf(t.uuid),i=this.CollisY.indexOf(t.uuid);-1!=o&&this.CollisX.splice(o,1),-1!=i&&this.CollisY.splice(i,1)}},e.prototype.platformove=function(t){var e=this.node.getPosition();e.addSelf(t),this.node.setPosition(e)},e.prototype.fieDie=function(){},r([l({type:cc.Enum(s.PropEnum)})],e.prototype,"drop",void 0),r([l({type:cc.Integer})],e.prototype,"dropValue",void 0),r([l(cc.Node)],e.prototype,"body",void 0),r([a],e)}(p.default);o.default=u,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],GasBombEffect:[function(t,e,o){"use strict";cc._RF.push(e,"28067zSuTRAP59dapIr7kUE","GasBombEffect");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/Common/yyComponent"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anima=null,e}return n(e,t),e.prototype.init=function(){this.anima=this.node.getComponent(cc.Animation),this.anima.play()},e.prototype.reuse=function(){this.anima.play()},e.prototype.unuse=function(){this.anima.stop()},e.prototype.animaOver=function(){s.default.put(this.node)},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/yyComponent":void 0}],GasBomb:[function(t,e,o){"use strict";cc._RF.push(e,"2157fDOE6NHurdZIAUVBMy4","GasBomb");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),p=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/GameSpecial/GameEventType"),a=t("../../../Script/GameSpecial/GlobalEnum"),l=t("../CollisType"),u=t("./GasPower"),h=cc._decorator,f=h.ccclass,d=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.GlobalEnum.CollisType.prop,e.bombType=a.GlobalEnum.BombType.GasBomb,e.power=null,e.speed=0,e.a=320,e.impending=!1,e.countDown=5,e.BLV=1,e.bombTime=0,e.bombing=!1,e.onceTime=1.5,e.bomb=null,e.bombed=!1,e}return n(e,t),e.prototype.init=function(){this.node.active=!1,this.power.init(),this.initData()},e.prototype.reuse=function(){this.node.active=!1,this.power.reuse(),this.initData()},e.prototype.unuse=function(){this.node.active=!1,this.power.unuse(),this.initData()},e.prototype.use=function(t){this.node.active=!0,this.speed=-100,this.impending=!0,this.countDown=t.time,this.BLV=t.BLV,this.bombed=!1,this.bombAnim(),this.power.setData({BLV:this.BLV})},e.prototype.onCollisionEnter=function(t,e){var o=t.node.getComponent(l.default);if((o.type==a.GlobalEnum.CollisType.terrain||o.type==a.GlobalEnum.CollisType.vessel||o.type==a.GlobalEnum.CollisType.moveTerrain)&&"+y"==this.collisDirec(t,e)){this.impending=!1;var i=e.world.preAabb,n=e.world.aabb.y-i.y,r=this.node.getPosition();r.y-=n,this.node.setPosition(r)}console.log("Bomb")},e.prototype.initData=function(){this.speed=200,this.countDown=5,this.BLV=1,this.bombTime=0,this.bombing=!1,this.bomb.active=!0},e.prototype.update=function(t){if(this.impending?this.speed-=this.a*t:this.speed=0,0!=this.speed){var e=this.node.getPosition();e.y+=this.speed*t,this.node.setPosition(e)}this.bombing?(this.bombTime+=t,this.bombed||(this.bombed=!0,this.emit(c.EventType.AudioEvent.playEffect,a.GlobalEnum.AudioClip.bomb),s.default.getMng(s.ActionMngType.UI).stopAllActions(this.node),this.bomb.active=!1,this.Bomb()),this.bombTime>this.onceTime&&(this.node.active=!1,this.emit(c.EventType.BombEvent.explodeEnd),p.default.put(this.node))):(this.countDown-=t,this.countDown<=0&&(this.bombing=!0))},e.prototype.Bomb=function(){this.power.bomb()},e.prototype.bombAnim=function(){var t=s.default.scaleTo(.2,.75,.75),e=s.default.scaleTo(.2,1.3,1.3),o=s.default.sequence(t,e),i=s.default.repeatForever(o);s.default.getMng(s.ActionMngType.UI).runAction(this.bomb,i)},e.prototype.flick=function(){this.impending=!0,this.speed=200},e.prototype.platformove=function(t){var e=this.node.getPosition();e.addSelf(t),this.node.setPosition(e)},r([d(u.default)],e.prototype,"power",void 0),r([d(cc.Node)],e.prototype,"bomb",void 0),r([f],e)}(l.default);o.default=y,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType","./GasPower":"GasPower"}],GasPower:[function(t,e,o){"use strict";cc._RF.push(e,"07f44fEph5L+5GKnyZx9KTq","GasPower");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GameEventType"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.prop,e.bombType=p.GlobalEnum.BombType.GasBomb,e.box=null,e.BLV=1,e.originSize=100,e.onePower=20,e.maxSize=100,e.isBomb=!1,e.bombTime=0,e}return n(e,t),e.prototype.init=function(){this.bombTime=0,this.node.active=!1,this.reset()},e.prototype.reuse=function(){this.bombTime=0,this.node.active=!1,this.reset()},e.prototype.unuse=function(){this.node.active=!1,this.reset()},e.prototype.reset=function(){this.bombTime=0,this.node.width=this.originSize,this.node.height=this.originSize,this.resetBox()},e.prototype.setData=function(t){this.BLV=t.BLV,this.maxSize=this.originSize+this.onePower*(this.BLV-1)},e.prototype.resetBox=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(c.default);if(e.type==p.GlobalEnum.CollisType.vessel){var o=e.node.convertToWorldSpaceAR(cc.v2());this.emit(s.EventType.BombEvent.playEffect,{pos:o,type:this.bombType}),e.destruction&&e.destruction()}else e.type==p.GlobalEnum.CollisType.foe&&(o=e.node.convertToWorldSpaceAR(cc.v2()),this.emit(s.EventType.BombEvent.playEffect,{pos:o,type:this.bombType}),e.foeDie&&e.foeDie())},e.prototype.bomb=function(){this.node.active=!0,this.isBomb=!0,this.node.getComponent(cc.Animation).play(),this.resetBox()},e.prototype.update=function(t){if(this.isBomb&&(this.bombTime+=t,this.bombTime<.2)){var e=this.bombTime/.2,o=this.originSize+this.onePower*(this.BLV-1)*e;this.node.width=o,this.node.height=o,this.resetBox()}},r([u(cc.BoxCollider)],e.prototype,"box",void 0),r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Gold:[function(t,e,o){"use strict";cc._RF.push(e,"0495d/RDXpDNIIfHo0mwUxg","Gold");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/GameEventType"),c=t("../../../Script/GameSpecial/GlobalEnum"),a=t("../CollisType"),l=cc._decorator,u=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.GlobalEnum.CollisType.prop,e.value=0,e.used=!1,e.goldAnimation=null,e.box=null,e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.used=!1,this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){this.node.active=!0,this.used=!1},e.prototype.unuse=function(){this.node.active=!1,this.used=!1},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),t.value&&(this.value=t.value),this.resetCollisDirecs()},e.prototype.onCollisionEnter=function(t){if(!this.used){var e=t.node.getComponent(a.default);e.type==c.GlobalEnum.CollisType.palyer&&(this.used=!0,this.goldGet(),e.goldGet(this.value))}},e.prototype.goldGet=function(){this.emit(p.EventType.AudioEvent.playEffect,c.GlobalEnum.AudioClip.gold),this.playAnimation()},e.prototype.playAnimation=function(){this.goldAnimation.play()},e.prototype.animationEnd=function(){this.goldAnimation.stop(),this.node.active=!1,s.default.put(this.node)},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t.value=this.value,t},r([h({type:cc.Integer,range:[1,1e3]})],e.prototype,"value",void 0),r([h(cc.Animation)],e.prototype,"goldAnimation",void 0),r([u],e)}(a.default);o.default=f,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],LevelCameraOld:[function(t,e,o){"use strict";cc._RF.push(e,"ade43+9RZtE46LoF1vdxOuA","LevelCameraOld");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/yyComponent"),p=t("../../Script/Common/Action3dManager"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.cameraNode=null,e.anchorNode=null,e}return n(e,t),e.prototype.initOriginalTransform=function(){this._originalPos=cc.v3(),this.cameraNode.getPosition(this._originalPos),this._originalEulerAngles=cc.v3(),this._originalEulerAngles.set(this.cameraNode.eulerAngles)},e.prototype.resumeOriginalTransform=function(t,e){if(void 0===t&&(t=0),!t)return this.cameraNode.setPosition(this._originalPos),void(this.cameraNode.eulerAngles=this._originalEulerAngles);this.changeCamera({duration:t,pos:this._originalPos,angle:this._originalEulerAngles,cb:e})},e.prototype.changeCamera=function(t){if(!t.duration)return t.pos&&this.cameraNode.setPosition(t.pos),t.angle&&(this.cameraNode.eulerAngles=t.angle),void(t.cb&&t.cb());var e=null,o=null;t.pos&&(e=p.default.moveTo(t.duration,t.pos)),t.angle&&(o=p.default.rotateTo(t.duration,t.angle));var i=null;e&&o?i=p.default.spawn(e,o):e?i=p.default.spawn(e):o&&(i=p.default.spawn(o));var n=p.default.getMng(p.ActionMngType.Level);if(i&&t.cb){var r=p.default.callFun(t.cb),s=p.default.sequence(i,r);n.runAction(this.cameraNode,s)}else i?n.runAction(this.cameraNode,i):t.cb&&t.cb()},e.prototype.init=function(){this.anchorNode=this.node,this.camera=this.node.getComponentInChildren(cc.Camera),this.cameraNode=this.camera.node,this.customStep=this.stepSlowFollow,this.adaptViewForWidth(),this.initOriginalTransform()},e.prototype.adaptViewForWidth=function(){var t=cc.v3();this.cameraNode.getPosition(t);var e=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z),o=cc.find("Canvas").height,i=this.camera.fov,n=e*Math.tan(.0087265*i);n=n*o/1334;var r=114.6*Math.atan2(n,e);this.camera.fov=r},e.prototype.reset=function(){this.followTarget=null,this.resumeOriginalTransform()},e.prototype.setTarget=function(t){this.followTarget=t,this.anchorNode.setPosition(this.followTarget.x,0,this.followTarget.z)},e.prototype.stepSlowFollow=function(){this.followTarget&&this.anchorNode.setPosition(this.followTarget.x,0,this.followTarget.z)},e.prototype.moveTo=function(t,e,o){var i=p.default.getMng(p.ActionMngType.Level),n=p.default.moveTo(t,e);if(n.easing(p.default.easeOut(3)),o){var r=p.default.callFun(o);i.runAction(this.node,p.default.sequence(n,r))}else i.runAction(this.node,n)},e.prototype.convertWorldToScreen=function(t){var e=this.convertWorldToCanvas(t),o=cc.find("Canvas");return e.x,o.width,e.y+=.5*o.height,e},e.prototype.convertWorldToCanvas=function(t){var e=this.convertWorldToCamera(t),o=this.camera.fov,i=e.z,n=Math.tan(.0087265*o),r=Math.abs(i*n),s=e.x/r,p=e.y/r,c=cc.find("Canvas");return p=.5*c.height*p,s=.5*c.height*s,cc.v2(s,p)},e.prototype.convertWorldToCamera=function(t){var e=this.getCameraPos(),o=this.getCameraEulerAngles(),i=o.y,n=cc.v2(t.x-e.x,t.z-e.z);n=this.rotatePos(n,i),i=o.x;var r=cc.v2(n.y,t.y-e.y);return r=this.rotatePos(r,i),cc.v3(n.x,r.y,r.x)},e.prototype.getCameraPos=function(){var t=this.node.eulerAngles.y,e=this.rotatePos(cc.v2(this.cameraNode.x,this.cameraNode.z),-t);return cc.v3(e.x+this.node.x,this.cameraNode.y+this.node.y,e.y+this.node.z)},e.prototype.getCameraEulerAngles=function(){return cc.v3(this.cameraNode.eulerAngles.x,this.node.eulerAngles.y,0)},e.prototype.rotatePos=function(t,e){var o=.017453*e,i=Math.sin(o),n=Math.cos(o),r=t.x*n-t.y*i,s=t.x*i+t.y*n;return cc.v2(r,s)},e.prototype.convertToParent=function(t,e){var o=cc.v3(e.x*t.scaleX,e.y*t.scaleY,e.z*t.scaleZ),i=cc.v2(o.x,o.z);i=this.rotatePos(i,t.eulerAngles.y);var n=cc.v2(i.y,o.y);return n=this.rotatePos(n,t.eulerAngles.x),o.x=i.x+t.x,o.y=n.y+t.y,o.z=n.x+t.z,o},e.prototype.convertToNodePos=function(t,e,o){var i=cc.v3();for(i.set(o);e&&e.is3DNode&&e!=t;)i=this.convertToParent(e,i),e=e.parent;return i},r([l(cc.Camera)],e.prototype,"camera",void 0),r([l(cc.Node)],e.prototype,"cameraNode",void 0),r([l(cc.Node)],e.prototype,"anchorNode",void 0),r([a],e)}(s.default);o.default=u,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/yyComponent":void 0}],LevelCamera:[function(t,e,o){"use strict";cc._RF.push(e,"f48aftFISdLI7XFeOhvOx8H","LevelCamera");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/Action3dManager"),p=t("../../Script/Common/yyComponent"),c=t("../../Script/GameSpecial/GameEventType"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.viewRect=null,e.mainObject=null,e.minPoint=cc.v2(),e.maxPoint=cc.v2(),e.cameraBox=cc.v2(),e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.onEvents(),this.initCameraBox()},e.prototype.reset=function(){this.node.active=!1},e.prototype.setData=function(t){this.viewRect=cc.rect(0,0,t[0],t[1])},e.prototype.cameraStart=function(){this.node.active=!0,this.resetMO()},e.prototype.customUpdate=function(){this.resetMO()},e.prototype.onEvents=function(){this.on(c.EventType.CameraEvent.registerTarget,this.refisterTarget,this),this.on(c.EventType.CameraEvent.viewLimit,this.viewLimit,this)},e.prototype.offEvents=function(){this.off(c.EventType.CameraEvent.registerTarget,this.refisterTarget,this),this.off(c.EventType.CameraEvent.viewLimit,this.viewLimit,this)},e.prototype.refisterTarget=function(t){this.mainObject&&console.warn("\u8b66\u544a\uff01\u5c06\u8981\u66f4\u6362\u76f8\u673a\u89c2\u5bdf\u5bf9\u8c61\u3002"),this.mainObject=t,this.resetMO()},e.prototype.viewLimit=function(t){this.minPoint=cc.v2((t.width-this.viewRect.width)/-2,(t.height-this.viewRect.height)/-2),this.minPoint.addSelf(cc.v2(t.x,t.y)),this.maxPoint=cc.v2((t.width-this.viewRect.width)/2,(t.height-this.viewRect.height)/2),this.maxPoint.addSelf(cc.v2(t.x,t.y))},e.prototype.resetMO=function(){var t=this.getTargetPosi();t=this.amendPathway(t);var e=s.default.moveTo(.2,t.x,t.y);s.default.getMng(s.ActionMngType.Level).runAction(this.node,e)},e.prototype.getTargetPosi=function(){var t=cc.v2();if(this.mainObject&&this.mainObject.parent){var e=this.mainObject.parent.convertToWorldSpaceAR(this.mainObject.getPosition());t=this.node.parent.convertToNodeSpaceAR(e)}return t},e.prototype.amendPathway=function(t){var e=cc.v2(t.x,t.y);return t.x<this.minPoint.x?e.x=this.minPoint.x:t.x>this.maxPoint.x&&(e.x=this.maxPoint.x),t.y<this.minPoint.y?e.y=this.minPoint.y:t.y>this.maxPoint.y&&(e.y=this.maxPoint.y),e},e.prototype.initCameraBox=function(){this.cameraBox.x=this.node.parent.width,this.cameraBox.y=this.node.parent.height},e.prototype.boxforWin=function(t){var e=this.node.position,o=t.sub(e),i=cc.v2(0,0);if(Math.abs(o.x)>this.cameraBox.x/5){var n=Math.abs(o.x)-this.cameraBox.x/5;o.x<0?i.x=-n:i.x=n}return Math.abs(o.y)>this.cameraBox.y/5&&(n=Math.abs(o.y)-this.cameraBox.y/5,o.y<0?i.y=-n:i.y=n),i},r([u(cc.Camera)],e.prototype,"camera",void 0),r([l],e)}(p.default);o.default=h,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0}],LevelManager:[function(t,e,o){"use strict";cc._RF.push(e,"8a3a1r8py9NEZq3f4jOfVcp","LevelManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/yyComponent"),p=t("../../Script/GameSpecial/GameEventType"),c=t("../../Script/Common/Action3dManager"),a=t("../../Script/GameSpecial/GlobalEnum"),l=cc._decorator,u=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pauseCount=0,e.levelLayer=null,e.actMng=null,e.nextState=null,e.needLoadCount=0,e}return n(e,t),e.prototype.init=function(){this.initComponents(),this.initCustomUpdateState(),this.initLevelTimer(),this.initActMng(),this.initEnterLobbyState(),this.loadLobbyItems(),this.registAllCustomUpdate(),this.onEvents(),cc.warn("\u5173\u5361\u7ba1\u7406\u5668\u7684init\u9700\u7531\u5b50\u7c7b\u5b9e\u73b0")},e.prototype.registAllCustomUpdate=function(){cc.warn("\u5173\u5361\u7ba1\u7406\u5668\u7684registAllCustomUpdate\u9700\u7531\u5b50\u7c7b\u5b9e\u73b0"),this.registCustomUpdate(a.GlobalEnum.LevelState.lobby,this.stepLobby),this.registCustomUpdate(a.GlobalEnum.LevelState.win,this.stepLevelWin),this.registCustomUpdate(a.GlobalEnum.LevelState.lose,this.stepLevelLose),this.registCustomUpdate(a.GlobalEnum.LevelState.playing,this.stepLevelPlaying)},e.prototype.onEvents=function(){cc.warn("\u5173\u5361\u7ba1\u7406\u5668\u7684onEvents\u9700\u7531\u5b50\u7c7b\u5b9e\u73b0"),this.on(p.EventType.DirectorEvent.pauseLevel,this.pause,this),this.on(p.EventType.DirectorEvent.resumeLevel,this.resume,this)},e.prototype.loadLobbyItems=function(){},e.prototype.reset=function(){this.resetCustomUpdateState(),this.resetLevelTimer()},Object.defineProperty(e.prototype,"paused",{get:function(){return this.isPaused},enumerable:!1,configurable:!0}),e.prototype.pause=function(t){void 0===t&&(t=1),this.pauseCount+=t,this.isPaused=!0},e.prototype.resume=function(t){void 0===t&&(t=1),-1===t?(this.pauseCount=0,this.isPaused=!1):(this.pauseCount-=t,this.pauseCount<=0&&(this.pauseCount=0,this.isPaused=!1))},e.prototype.initLevelTimer=function(){this.elapseTimer=0,this.isPaused=!1,this.pauseCount=0},e.prototype.resetLevelTimer=function(){this.elapseTimer=0,this.isPaused=!1,this.pauseCount=0},e.prototype.customUpdate=function(){if(!this.isPaused){var t=Date.now(),e=t-this.lastFrameTime;this.lastFrameTime=t,e>34&&(e=34),e*=.001,this.elapseTimer+=e,this.customStep&&this.customStep(e)}},e.prototype.running=function(t){this.isPaused||(this.updateAction(t),this.customStep&&this.customStep(t))},e.prototype.getLevelData=function(){return this.levelData},e.prototype.initActMng=function(){this.actMng=c.default.getMng(c.ActionMngType.Level)},e.prototype.updateAction=function(t){this.actMng.update(t)},e.prototype.enterLevel=function(t){this.node.active=!0,this.needLoadCount<=0?(this.reset(),this.levelData=t,this._enterLevel()):(this.levelData=t,this.nextState=a.GlobalEnum.LevelState.playing)},e.prototype._enterLevel=function(){this.setData(),this.startLevel()},e.prototype.startLevel=function(){this.enterCustomUpdateState(a.GlobalEnum.LevelState.playing),this.lastFrameTime=Date.now(),this.emit(p.EventType.CtrlEvent.ctrlStart),this.emit(p.EventType.AudioEvent.playBGM,a.GlobalEnum.AudioClip.BGM,!0);var t=this.levelData.lv;void 0===t&&(t=this.levelData.id),this.emit(p.EventType.ALDEvent.levelStart,t),this.emit(p.EventType.UIEvent.showTip,"\u5173\u5361\u5f00\u59cb\uff01")},e.prototype.setTeachCmp=function(){},e.prototype.exit=function(){this.reset()},e.prototype.initEnterLobbyState=function(){this.nextState=null,this.needLoadCount=0,console.warn("\u8fdb\u5165\u9996\u9875\u5fc5\u987b\u52a0\u8f7d\u7684\u9884\u5236\u4ef6\u6570\u91cf\u4e3a\uff1a",this.needLoadCount)},e.prototype.enterLobby=function(){this.needLoadCount<=0?(this.reset(),this.setEnterLobbyData(),this.enterCustomUpdateState(a.GlobalEnum.LevelState.lobby)):this.nextState=a.GlobalEnum.LevelState.lobby},e.prototype.setEnterLobbyData=function(){console.log("\u8bbe\u7f6e\u5173\u5361\u573a\u666f\u4f5c\u4e3a\u9996\u9875\u80cc\u666f\u65f6\u7684\u6570\u636e\uff0c\u7531\u5b50\u7c7b\u5b9e\u73b0")},e.prototype.loadLobbyItemFinish=function(){if(this.needLoadCount--,this.needLoadCount<=0){switch(this.nextState){case a.GlobalEnum.LevelState.lobby:this.setEnterLobbyData(),this.enterCustomUpdateState(a.GlobalEnum.LevelState.lobby);break;case a.GlobalEnum.LevelState.playing:this._enterLevel()}this.emit(p.EventType.LevelEvent.levelSceneLoadFinish)}},e.prototype.stepLevelPlaying=function(){},e.prototype.stepLevelWin=function(){},e.prototype.stepLevelLose=function(){},e.prototype.stepLobby=function(){},e.prototype.win=function(t){this.enterCustomUpdateState(a.GlobalEnum.LevelState.win),this.emit(p.EventType.CtrlEvent.ctrlEnd),this.emit(p.EventType.DirectorEvent.playerWin,t),this.emit(p.EventType.AudioEvent.stopBGM),this.emit(p.EventType.AudioEvent.playEffect,a.GlobalEnum.AudioClip.win);var e=this.levelData.lv;void 0===e&&(e=this.levelData.id),this.emit(p.EventType.ALDEvent.levelWin,e)},e.prototype.lose=function(t){this.enterCustomUpdateState(a.GlobalEnum.LevelState.lose),this.emit(p.EventType.CtrlEvent.ctrlEnd),this.emit(p.EventType.DirectorEvent.playerLose,t),this.emit(p.EventType.AudioEvent.stopBGM),this.emit(p.EventType.AudioEvent.playEffect,a.GlobalEnum.AudioClip.lose);var e=this.levelData.lv;void 0===e&&(e=this.levelData.id),this.emit(p.EventType.ALDEvent.levelLose,e)},r([h(cc.Node)],e.prototype,"levelLayer",void 0),r([u],e)}(s.default);o.default=f,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],Life:[function(t,e,o){"use strict";cc._RF.push(e,"d7680tNixxN1IkC2+530w1t","Life");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/GameEventType"),c=t("../../../Script/GameSpecial/GlobalEnum"),a=t("../CollisType"),l=cc._decorator,u=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.GlobalEnum.CollisType.prop,e.value=1,e.used=!1,e.box=null,e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.used=!1,this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){this.node.active=!0,this.used=!1},e.prototype.unuse=function(){this.node.active=!1,this.used=!1},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),t.value&&(this.value=t.value),this.resetCollisDirecs()},e.prototype.onCollisionEnter=function(t){if(!this.used){var e=t.node.getComponent(a.default);e.type==c.GlobalEnum.CollisType.palyer&&(this.used=!0,this.lifeGet(),e.lifeGet&&e.lifeGet(this.value))}},e.prototype.lifeGet=function(){this.emit(p.EventType.AudioEvent.playEffect,c.GlobalEnum.AudioClip.Prop),this.node.active=!1,s.default.put(this.node)},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t.value=this.value,t},r([h({type:cc.Integer,range:[1,1e3]})],e.prototype,"value",void 0),r([u],e)}(a.default);o.default=f,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],LightningBombEffect:[function(t,e,o){"use strict";cc._RF.push(e,"2dd81RehFVJSb6EYQn/DLuc","LightningBombEffect");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../CollisType"),c=t("./LightningPower"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anima=null,e.power=null,e}return n(e,t),e.prototype.init=function(){this.anima=this.node.getComponent(cc.Animation),this.anima.play(),this.power.init()},e.prototype.reuse=function(){this.anima.play(),this.power.reuse()},e.prototype.unuse=function(){this.anima.stop(),this.power.unuse()},e.prototype.animaOver=function(){s.default.put(this.node)},e.prototype.setData=function(t){var e=this;this.power.setData(t),setTimeout(function(){e.power.bomb()},100)},r([u(c.default)],e.prototype,"power",void 0),r([l],e)}(p.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../CollisType":"CollisType","./LightningPower":"LightningPower"}],LightningBomb:[function(t,e,o){"use strict";cc._RF.push(e,"ff4c8jf83pFhY54+iQVblE+","LightningBomb");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),p=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/GameSpecial/GameEventType"),a=t("../../../Script/GameSpecial/GlobalEnum"),l=t("../CollisType"),u=t("./LightningPower"),h=cc._decorator,f=h.ccclass,d=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.GlobalEnum.CollisType.prop,e.bombType=a.GlobalEnum.BombType.LightningBomb,e.power=null,e.speed=0,e.a=320,e.impending=!1,e.countDown=5,e.BLV=1,e.bombTime=0,e.bombing=!1,e.onceTime=1,e.bomb=null,e.anima=null,e.bombed=!1,e}return n(e,t),e.prototype.init=function(){this.node.active=!1,this.power.init(),this.bomb.active=!0,this.stopBombAnima(),this.initData()},e.prototype.reuse=function(){this.node.active=!1,this.power.reuse(),this.bomb.active=!0,this.stopBombAnima(),this.initData()},e.prototype.unuse=function(){this.offEvents(),this.node.active=!1,this.power.unuse(),this.bomb.active=!0,this.stopBombAnima(),this.initData()},e.prototype.use=function(t){this.onEvents(),this.node.active=!0,this.speed=-100,this.impending=!0,this.countDown=t.time,this.BLV=t.BLV,this.bombed=!1,this.countDownAnim(),this.bomb.active=!0,this.power.setData({BLV:this.BLV,STR:1})},e.prototype.onEvents=function(){this.on(c.EventType.BombEvent.noLightning,this.playAnimaNoBomb,this),this.on(c.EventType.BombEvent.lightning,this.playAnimaHaveBomb,this)},e.prototype.offEvents=function(){this.off(c.EventType.BombEvent.noLightning,this.playAnimaNoBomb,this),this.off(c.EventType.BombEvent.lightning,this.playAnimaHaveBomb,this)},e.prototype.onCollisionEnter=function(t,e){var o=t.node.getComponent(l.default);if((o.type==a.GlobalEnum.CollisType.terrain||o.type==a.GlobalEnum.CollisType.vessel||o.type==a.GlobalEnum.CollisType.moveTerrain)&&"+y"==this.collisDirec(t,e)){this.impending=!1;var i=e.world.preAabb,n=e.world.aabb.y-i.y,r=this.node.getPosition();r.y-=n,this.node.setPosition(r)}console.log("Bomb")},e.prototype.initData=function(){this.speed=200,this.countDown=5,this.BLV=1,this.bombTime=0,this.bombing=!1},e.prototype.update=function(t){if(this.impending?this.speed-=this.a*t:this.speed=0,0!=this.speed){var e=this.node.getPosition();e.y+=this.speed*t,this.node.setPosition(e)}this.bombing?(this.bombTime+=t,this.bombed||(this.bombed=!0,this.emit(c.EventType.AudioEvent.playEffect,a.GlobalEnum.AudioClip.bomb),s.default.getMng(s.ActionMngType.UI).stopAllActions(this.node),this.Bomb()),this.bombTime>this.onceTime&&(this.node.active=!1,this.emit(c.EventType.BombEvent.explodeEnd),p.default.put(this.node))):(this.countDown-=t,this.countDown<=0&&(this.bombing=!0))},e.prototype.Bomb=function(){this.bomb.active=!1,this.power.bomb(this.uuid)},e.prototype.countDownAnim=function(){var t=s.default.scaleTo(.2,.75,.75),e=s.default.scaleTo(.2,1.3,1.3),o=s.default.sequence(t,e),i=s.default.repeatForever(o);s.default.getMng(s.ActionMngType.UI).runAction(this.bomb,i)},e.prototype.playAnimaHaveBomb=function(t){t&&t==this.uuid&&(this.anima.node.active=!0,this.anima.play("lightningBombEffect2",0))},e.prototype.playAnimaNoBomb=function(t){t&&t==this.uuid&&(this.anima.node.active=!0,this.anima.play("noLightningEffect",0))},e.prototype.stopBombAnima=function(){this.anima.node.active=!1,this.anima.stop()},e.prototype.flick=function(){this.impending=!0,this.speed=200},e.prototype.platformove=function(t){var e=this.node.getPosition();e.addSelf(t),this.node.setPosition(e)},r([d(u.default)],e.prototype,"power",void 0),r([d(cc.Node)],e.prototype,"bomb",void 0),r([d(cc.Animation)],e.prototype,"anima",void 0),r([f],e)}(l.default);o.default=y,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType","./LightningPower":"LightningPower"}],LightningPower:[function(t,e,o){"use strict";cc._RF.push(e,"87b8agZDV5MiqzJ8JafyZJS","LightningPower");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GameEventType"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.prop,e.bombType=p.GlobalEnum.BombType.LightningBomb,e.box=null,e.trackEles={},e.BLV=1,e.STR=1,e.lightningRank=[],e.speed=1e3,e.isBomb=!1,e.bombTime=0,e}return n(e,t),e.prototype.init=function(){this.reset()},e.prototype.reuse=function(){this.reset()},e.prototype.unuse=function(){this.reset()},e.prototype.reset=function(){this.node.setPosition(cc.v2()),this.lightningRank=[]},e.prototype.setData=function(t){if(this.BLV=t.BLV,this.STR=t.STR,t.lightningRank)for(var e=t.lightningRank,o=0;o<e.length;o++)this.lightningRank.indexOf(e[o])<0&&this.lightningRank.push(e[o]);this.resetBox()},e.prototype.resetBox=function(){this.box||(this.box=this.node.getComponent(cc.BoxCollider));for(var t=400+40*this.BLV,e=1;e<this.STR;e++)t/=2;t<80&&(t=0),this.box.size=cc.size(t,t),this.box.offset=cc.v2(0,0)},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(c.default);e.type==p.GlobalEnum.CollisType.vessel?this.lightningRank.indexOf(e.uuid)<0&&(this.trackEles[e.uuid]=e):e.type==p.GlobalEnum.CollisType.foe&&this.lightningRank.indexOf(e.uuid)<0&&(this.trackEles[e.uuid]=e)},e.prototype.onCollisionExit=function(t){var e=t.node.getComponent(c.default);e.type!=p.GlobalEnum.CollisType.vessel&&e.type!=p.GlobalEnum.CollisType.foe||this.trackEles[e.uuid]&&delete this.trackEles[e.uuid]},e.prototype.bomb=function(t){if(t){if(0==Object.keys(this.trackEles).length)return void this.emit(s.EventType.BombEvent.noLightning,t);this.emit(s.EventType.BombEvent.lightning,t)}for(var e in this.trackEles){var o=this.trackEles[e];this.lightnShow(o)}this.isBomb=!0},e.prototype.lightnShow=function(t){var e=t.node.convertToWorldSpaceAR(cc.v2());this.lightningRank.push(t.uuid),this.emit(s.EventType.BombEvent.playEffect,{pos:e,type:this.bombType,lightningData:{BLV:this.BLV,STR:this.STR,lightningRank:this.lightningRank}});var o=this.node.convertToWorldSpaceAR(cc.v2());this.emit(s.EventType.BombEvent.showLightning,{originPos:o,goalPos:e}),t.type==p.GlobalEnum.CollisType.foe?t.foeDie&&t.foeDie():t.type==p.GlobalEnum.CollisType.vessel&&t.destruction&&t.destruction()},e.prototype.update=function(){},r([l],e)}(c.default));o.default=u,cc._RF.pop()},{"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Lightning:[function(t,e,o){"use strict";cc._RF.push(e,"da261XqJQhL1JvlbGiX6pN+","Lightning");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/Common/yyComponent"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(t){t&&this.setData(t)},e.prototype.reuse=function(t){t&&this.setData(t)},e.prototype.unuse=function(){},e.prototype.setData=function(t){var e=this,o=0,i=0;if(t.vec){var n=t.vec;i=1.2*n.len(),0==n.x?o=n.y>0?90:n.y<0?-90:0:(o=Math.atan(n.y/n.x)*(180/Math.PI),n.x<0&&(o+=180))}this.node.angle=o+90,this.node.height=i,setTimeout(function(){s.default.put(e.node)},200)},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/yyComponent":void 0}],MainSceneScr:[function(t,e,o){"use strict";cc._RF.push(e,"8346bhI5o5Iioi4K+SEkFA7","MainSceneScr");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/GameData"),p=t("../../Script/Common/GlobalPool"),c=t("../../Script/Common/Loader"),a=t("../../Script/Common/PlayerData"),l=t("../../Script/Common/yyComponent"),u=t("../../Script/GameSpecial/GameEventType"),h=t("../../Script/GameSpecial/GlobalEnum"),f=t("./Bomb/LightningBombEffect"),d=t("./CollisType"),y=t("./ControlUI"),m=cc._decorator,v=m.ccclass,b=m.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mapNode=null,e.mapData=null,e.lv=0,e.limitBox=null,e.mapElements=[],e.foeScr=[],e.mapOk=!1,e.player=null,e.countrolUI=null,e}return n(e,t),e.prototype.init=function(){this.onEvents(),this.countrolUI.init(),this.initCollisManager(),this.mapNode=this.node.getChildByName("map")},e.prototype.reset=function(){this.offEvents(),this.countrolUI.reset(),this.player&&(this.player.reset(),p.default.put(this.player.node),this.player=null),this.resetMap()},e.prototype.resetMap=function(){this.mapNode||(this.mapNode=this.node.getChildByName("map"));for(var t=this.mapNode.children,e=t.length-1;e>=0;e--)p.default.put(t[e]);this.mapElements=[],this.foeScr=[]},e.prototype.setData=function(t){this.onEvents(),t.data&&t.data.map?(this.mapData=t.data.map,this.lv=t.lv):this.mapData=s.default.getData(h.GlobalEnum.GameDataType.MapData,1),this.countrolUI.setData(this.node.parent),this.setScene()},e.prototype.setScene=function(){this.setBg(this.mapData.bg),this.setPlayer(this.mapData.player),this.setMap(this.mapData.mapData)},e.prototype.setBg=function(t){var e=this.node.getChildByName("bg"),o=e.getComponent(cc.Sprite);c.default.loadBundleRes("LevelScene","Image/background/"+t.data.spriteFrame,function(t){t?o.spriteFrame=t:console.log("\u80cc\u666f\u52a0\u8f7d\u9519\u8bef\uff01")},cc.SpriteFrame,!0),e.setPosition(cc.v2(t.pos[0],t.pos[1])),e.width=t.data.size[0],e.height=t.data.size[1],this.limitBox=cc.rect(e.x,e.y,e.width,e.height),this.emit(u.EventType.CameraEvent.viewLimit,this.limitBox)},e.prototype.setPlayer=function(t){var e=this;this.player?(this.player.node.setPosition(cc.v2(t.pos[0],t.pos[1])),this.player.setData(this.limitBox),this.enter()):this.loadPlayer(function(){e.player.node.setPosition(cc.v2(t.pos[0],t.pos[1])),e.player.setData(e.limitBox),e.enter()})},e.prototype.setMap=function(t){for(var e=t.length,o=0;o<e;o++){var i=t[o];console.log(o+": "+i.name);var n=p.default.get(i.name);this.mapNode.addChild(n),n.setPosition(cc.v2(i.pos[0],i.pos[1]));var r=n.getComponent(d.default);this.mapElements.push(r),r.setData(i.data),r.type==h.GlobalEnum.CollisType.foe&&this.foeScr.push(r)}this.mapOk=!0,this.enter()},e.prototype.foeUpdate=function(t){for(var e=0;e<this.foeScr.length;e++)this.foeScr[e]&&this.foeScr[e].life>0?this.foeScr[e].customUpdate(t):this.foeScr.splice(e,1)},e.prototype.enter=function(){this.player&&this.mapOk&&(this.customStep=this.updateStep,this.countrolUI.enter(this.lv)),console.log("\u8fdb\u5165\u5173\u5361")},e.prototype.initCollisManager=function(){cc.director.getCollisionManager().enabled=!0},e.prototype.onEvents=function(){this.on(u.EventType.ControlEvent.down,this.keyDown,this),this.on(u.EventType.ControlEvent.up,this.keyUp,this),this.on(u.EventType.VesselEvent.dropProp,this.dropProp,this),this.on(u.EventType.PlayerEvent.death,this.playerDie,this),this.on(u.EventType.PlayerEvent.win,this.playerWin,this),this.on(u.EventType.BombEvent.playEffect,this.playEffect,this),this.on(u.EventType.BombEvent.showLightning,this.showLightning,this),this.on(u.EventType.PlayerEvent.changeRole,this.changeRole,this)},e.prototype.offEvents=function(){this.off(u.EventType.ControlEvent.down,this.keyDown,this),this.off(u.EventType.ControlEvent.up,this.keyUp,this),this.off(u.EventType.VesselEvent.dropProp,this.dropProp,this),this.off(u.EventType.PlayerEvent.death,this.playerDie,this),this.off(u.EventType.PlayerEvent.win,this.playerWin,this),this.off(u.EventType.BombEvent.playEffect,this.playEffect,this),this.off(u.EventType.BombEvent.showLightning,this.showLightning,this),this.off(u.EventType.PlayerEvent.changeRole,this.changeRole,this)},e.prototype.keyDown=function(t){switch(t){case cc.macro.KEY.a:this.player.startMoveLeft();break;case cc.macro.KEY.d:this.player.startMoveRight();break;case cc.macro.KEY.j:this.player.bomb();break;case cc.macro.KEY.k:this.player.jump()}},e.prototype.keyUp=function(t){switch(t){case cc.macro.KEY.a:this.player.endMoveLeft();break;case cc.macro.KEY.d:this.player.endMoveRight();break;case cc.macro.KEY.j:case cc.macro.KEY.k:}},e.prototype.dropProp=function(t){var e=t.pos;e=this.mapNode.convertToNodeSpaceAR(e);var o=null;switch(t.drop){case h.PropEnum.Gold:o="Gold";break;case h.PropEnum.Star:o="Star";break;case h.PropEnum.Life:o="Life";break;case h.PropEnum.BombLVUp:o="BombLVUp";break;case h.PropEnum.BombNumUp:o="BombNumUp";break;case h.PropEnum.SpeedUp:o="SpeedUp"}var i=p.default.get(o);this.mapNode.addChild(i),i.setPosition(e);var n=i.getComponent(d.default);this.mapElements.push(n),n.setData({value:t.value})},e.prototype.playEffect=function(t){if(t){var e=t.type+"Effect",o=p.default.get(e);if(this.node.addChild(o),o.setPosition(this.node.convertToNodeSpaceAR(t.pos)),o.group="prop",t.lightningData){var i=o.getComponent(f.default);i&&i.setData(t.lightningData)}}},e.prototype.showLightning=function(t){var e=t.goalPos.sub(t.originPos),o=p.default.get("Lightning",{vec:e});this.node.addChild(o),o.setPosition(this.node.convertToNodeSpaceAR(t.originPos))},e.prototype.initPlayer=function(){this.player?this.player.init():this.loadPlayer()},e.prototype.loadPlayer=function(t,e){var o=this;e||(e=a.default.getCurSkinId(h.GlobalEnum.GoodsType.playerSkin));var i;i=0==e?"":e.toString(),c.default.loadBundleRes("LevelScene","Prefab/Player"+i,function(e){o.player&&(o.player.reset(),p.default.put(o.player.node),o.player=null);var i=cc.instantiate(e);o.node.getChildByName("player").addChild(i),o.player=i.getComponent("CollisType"),o.player.init(),t&&t()},cc.Prefab,!0)},e.prototype.updateStep=function(t){this.player&&this.player.customUpdate(t),this.foeUpdate(t)},e.prototype.getSceneData=function(){var t={};t.bg=this.getBGData(),t.player=this.getPlayerData(),t.mapData=this.getMapData()},e.prototype.getBGData=function(){var t={pos:[],data:{size:[],spriteFrame:null}},e=this.node.getChildByName("bg"),o=e.getComponent(cc.Sprite),i=e.getPosition();return t.pos=[i.x,i.y],t.data.size=[e.width,e.height],t.data.spriteFrame=o.spriteFrame.name,t},e.prototype.getPlayerData=function(){var t={pos:[],data:{}},e=this.node.getChildByName("player").getChildByName("Player").getPosition();return t.pos=[e.x,e.y],t},e.prototype.getMapData=function(){for(var t=[],e=this.node.getChildByName("map").children,o=0;o<e.length;o++){var i=e[o].getComponent(d.default);t.push(i.getMapData())}},e.prototype.playerDie=function(){this.customStep=this.stepEmpty,this.emit(u.EventType.LevelEvent.levelLose)},e.prototype.playerWin=function(t){this.customStep=this.stepEmpty,this.emit(u.EventType.LevelEvent.levelWin,t)},e.prototype.changeRole=function(t){var e=this;if(t&&t.roleID){var o=this.player.node.getPosition(),i=this.player.getGold(),n=this.player.getStar();this.loadPlayer(function(){e.player.node.setPosition(o.x,o.y+50),e.player.setData(e.limitBox),e.player.setGold(i),e.player.setStar(n)},t.roleID)}},r([b(y.default)],e.prototype,"countrolUI",void 0),r([v],e)}(l.default);o.default=g,cc._RF.pop()},{"../../Script/Common/GameData":void 0,"../../Script/Common/GlobalPool":void 0,"../../Script/Common/Loader":void 0,"../../Script/Common/PlayerData":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0,"./Bomb/LightningBombEffect":"LightningBombEffect","./CollisType":"CollisType","./ControlUI":"ControlUI"}],MyLevelManager:[function(t,e,o){"use strict";cc._RF.push(e,"96965tMQ3pGBpQf/2vNsU/8","MyLevelManager");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./LevelManager"),p=t("../../Script/GameSpecial/GlobalEnum"),c=t("../../Script/GameSpecial/GameEventType"),a=t("./LevelCamera"),l=t("../../Script/Common/Loader"),u=cc._decorator,h=u.ccclass,f=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.mainSceneScr=null,e}return n(e,t),e.prototype.init=function(){this.initCamera(),this.initCustomUpdateState(),this.initLevelTimer(),this.initActMng(),this.initEnterLobbyState(),this.loadLobbyItems(),this.registAllCustomUpdate(),this.onEvents(),this.loadMainScene()},e.prototype.registAllCustomUpdate=function(){this.registCustomUpdate(p.GlobalEnum.LevelState.playing,this.stepLevelPlaying),this.registCustomUpdate(p.GlobalEnum.LevelState.win,this.stepLevelWin),this.registCustomUpdate(p.GlobalEnum.LevelState.lose,this.stepLevelLose),this.registCustomUpdate(p.GlobalEnum.LevelState.lobby,this.stepLobby)},e.prototype.onEvents=function(){this.on(c.EventType.DirectorEvent.pauseLevel,this.pause,this),this.on(c.EventType.DirectorEvent.resumeLevel,this.resume,this),this.on(c.EventType.LevelEvent.levelLose,this.onLevelLose,this),this.on(c.EventType.LevelEvent.levelWin,this.onLevelWin,this)},e.prototype.loadLobbyItems=function(){},e.prototype.reset=function(){this.resetCamera(),this.resetCustomUpdateState(),this.resetLevelTimer(),this.mainSceneScr&&this.mainSceneScr.reset()},e.prototype.loadMainScene=function(t){var e=this;l.default.loadBundleRes("LevelScene","Prefab/MainScene",function(o){if(!e.mainSceneScr){var i=cc.instantiate(o);e.node.getChildByName("MainScene").addChild(i),e.mainSceneScr=i.getComponent("MainSceneScr"),e.mainSceneScr.init()}t&&setTimeout(function(){t()},0)},cc.Prefab,!0)},e.prototype.enterLevel=function(t){this.node.active=!0,this.needLoadCount<=0?(this.reset(),this.levelData=t,this.loadScene()):(this.levelData=t,this.nextState=p.GlobalEnum.LevelState.playing)},e.prototype.loadScene=function(){this.mainSceneScr?this._enterLevel():this.loadMainScene(this._enterLevel.bind(this))},e.prototype._enterLevel=function(){this.setData(),this.startLevel(),this.camera.cameraStart()},e.prototype.setData=function(){this.camera.setData([this.node.width,this.node.height]),this.mainSceneScr.setData(this.levelData)},e.prototype.setTeachCmp=function(){},e.prototype.setEnterLobbyData=function(){},e.prototype.initPlayer=function(){},e.prototype.resetPlayer=function(){},e.prototype.setPlayer=function(){},e.prototype.updatePlayer=function(){},e.prototype.initCamera=function(){this.camera.init()},e.prototype.resetCamera=function(){this.camera.reset()},e.prototype.updateCamera=function(t){this.camera.customUpdate(t)},e.prototype.stepLevelPlaying=function(t){this.updateCamera(t),this.updatePlayer(t),this.mainSceneScr.customUpdate(t)},e.prototype.stepLevelWin=function(){},e.prototype.getWinData=function(){var t={};return t.lv=this.levelData.lv,t},e.prototype.stepLevelLose=function(){},e.prototype.stepLobby=function(){},e.prototype.onLevelWin=function(t){t.lv=this.levelData.lv,this.win(t)},e.prototype.onLevelLose=function(){this.lose()},r([f(a.default)],e.prototype,"camera",void 0),r([h],e)}(s.default);o.default=d,cc._RF.pop()},{"../../Script/Common/Loader":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0,"./LevelCamera":"LevelCamera","./LevelManager":"LevelManager"}],Platform:[function(t,e,o){"use strict";cc._RF.push(e,"31c252Q30FDeormtdZPgHEe","Platform");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.moveTerrain,e.box=null,e.collisObjects=[],e}return n(e,t),e.prototype.init=function(){this.box=this.node.getComponent(cc.BoxCollider),this.resetCollisDirecs()},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype.onCollisionEnter=function(t,e){var o=t.node.getComponent(p.default);o.type!=s.GlobalEnum.CollisType.palyer&&o.type!=s.GlobalEnum.CollisType.prop||"-y"==this.collisDirec(t,e)&&this.collisObjects.push(t.uuid)},e.prototype.onCollisionStay=function(t,e){if(-1!=this.collisObjects.indexOf(t.uuid)){var o=e.world.preAabb,i=e.world.aabb,n=cc.v2(i.x-o.x,i.y-o.y),r=t.node.getComponent(p.default);r.platformove&&r.platformove(n)}},e.prototype.onCollisionExit=function(t){var e=this.collisObjects.indexOf(t.uuid);-1!=e&&this.collisObjects.splice(e,1)},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Player1:[function(t,e,o){"use strict";cc._RF.push(e,"f87db2m/N9KL51etOD3ZaDZ","Player1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("./Player"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bombType=s.GlobalEnum.BombType.WaterBomb,e}return n(e,t),r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"./Player":"Player"}],Player2:[function(t,e,o){"use strict";cc._RF.push(e,"898adas6w1OdL7juTjfGFJ7","Player2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("./Player"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bombType=s.GlobalEnum.BombType.GasBomb,e}return n(e,t),r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"./Player":"Player"}],Player3:[function(t,e,o){"use strict";cc._RF.push(e,"0584cTvn89LUYD8yXRqU0Zs","Player3");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("./Player"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bombType=s.GlobalEnum.BombType.FireBomb,e}return n(e,t),r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"./Player":"Player"}],Player4:[function(t,e,o){"use strict";cc._RF.push(e,"26063RpzRlADZv5XwY9x81O","Player4");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("./Player"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bombType=s.GlobalEnum.BombType.LightningBomb,e}return n(e,t),r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"./Player":"Player"}],Player:[function(t,e,o){"use strict";cc._RF.push(e,"0bd6djz4kxCcLlPLrLij6aG","Player");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,p=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/Common/PlayerData"),a=t("../../../Script/GameSpecial/GameEventType"),l=t("../../../Script/GameSpecial/GlobalEnum"),u=t("../CollisType");(function(t){t.daiji="daiji",t.pao="pao",t.tiao="tiao"})(s||(s={}));var h=cc._decorator,f=h.ccclass,d=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bombType=l.GlobalEnum.BombType.LightningBomb,e.invincibleTime=5,e.type=l.GlobalEnum.CollisType.palyer,e.speedMax=200,e.a=1e3,e.speed=0,e.limitBox={minPoint:cc.v2(),maxPoint:cc.v2()},e.inLevelData={Gold:0,Star:0,BNum:0,SLV:0,BLV:0,Life:0},e.body=null,e.anim=null,e.direct=0,e.impending=!1,e.canRuning=0,e.speedYOrigin=960,e.speedY=0,e.g=2140,e.jumpCount=2,e.jumpAnim=s.tiao,e.bombCount=5,e.CollisX=[],e.CollisY=[],e.delaymoveX=0,e.delaymoveY=0,e.beInjuredYN=!1,e}return n(e,t),e.prototype.init=function(){this.onEvents(),this.initInLevelData(),this.emit(a.EventType.CameraEvent.registerTarget,this.node)},e.prototype.reset=function(){this.resetScrData(),this.offEvents()},e.prototype.setData=function(t){this.customStep=this.stepUpdate,this.onEvents(),this.limitBox=this.getLimitBox(t);var e=c.default.getData("gameData.playerProp");this.setInLevelData(e),this.bombCount=e.BNum,this.speedMax=this.speedMax+10*this.inLevelData.SLV,this.emit(a.EventType.ControlEvent.changeUI,e),this.emit(a.EventType.ControlEvent.starGet,this.inLevelData.Star),this.body.color=cc.color(255,255,255)},e.prototype.getLimitBox=function(t){var e={minPoint:cc.v2(),maxPoint:cc.v2()};return e.minPoint=cc.v2(t.x-t.width/2,t.y-t.height/2),e.maxPoint=cc.v2(t.x+t.width/2,t.y+t.height/2),e},e.prototype.onEvents=function(){this.on(a.EventType.BombEvent.explodeEnd,this.bombEnd,this),this.on(a.EventType.VesselEvent.open,this.openTreasureBox,this)},e.prototype.offEvents=function(){this.off(a.EventType.BombEvent.explodeEnd,this.bombEnd,this),this.off(a.EventType.VesselEvent.open,this.openTreasureBox,this)},e.prototype.bombEnd=function(){this.bombCount++,this.emit(a.EventType.ControlEvent.changeUI,{BNum:this.bombCount})},e.prototype.resetScrData=function(){this.initInLevelData(),this.speed=0,this.direct=0,this.impending=!1,this.canRuning=0,this.speedY=0,this.jumpCount=2,this.jumpAnim=s.tiao,this.CollisX=[],this.CollisY=[],this.beInjuredYN=!1},e.prototype.examineWin=function(){var t={};t.star=this.inLevelData.Star,t.gold=this.inLevelData.Gold,this.emit(a.EventType.PlayerEvent.win,t)},e.prototype.initInLevelData=function(){for(var t in this.inLevelData)this.inLevelData[t]=0},e.prototype.addInLevelData=function(t){for(var e in t)this.inLevelData[e]?this.inLevelData[e]+=t[e]:this.inLevelData[e]=t[e];this.emit(a.EventType.ControlEvent.changeUI,this.inLevelData)},e.prototype.setInLevelData=function(t){for(var e in t)this.inLevelData[e]=t[e];this.emit(a.EventType.ControlEvent.changeUI,this.inLevelData)},e.prototype.getInLevelData=function(){return this.inLevelData},e.prototype.playAnim=function(t){if(this.anim||(this.anim=this.body.getComponent(sp.Skeleton)),this.anim.animation!==t){var e;e=t==s.pao||t==s.daiji||t==s.tiao,this.anim.setAnimation(0,t,e)}this.anim.animation==s.pao?this.anim.timeScale=1.53*Math.abs(this.speed)/200:this.anim.timeScale=1},e.prototype.stepUpdate=function(t){if(this.stateChange(),this.speedChange(t),this.moveH(t),this.moveV(t),this.collisChange(),this.beInjuredYN){this.invincibleTime-=t;var e=255*Math.abs(5*this.invincibleTime%1);this.body.color=cc.color(255,e,e),this.invincibleTime<=0&&(this.beInjuredYN=!1,this.body.color=cc.color(255,255,255))}},e.prototype.stateChange=function(){0!=this.direct&&(this.node.scaleX=this.direct),this.impending?this.playAnim(this.jumpAnim):0!=this.speed?this.playAnim(s.pao):0==this.speed&&this.playAnim(s.daiji)},e.prototype.speedChange=function(t){if(this.canRuning*this.direct>=0&&this.canRuning*this.speed>=0)if(this.speedMax>this.speed*this.direct)if(0!=this.direct)this.speed+=this.a*t*this.direct;else{var e=this.a*t;Math.abs(this.speed)<e?this.speed=0:this.speed*=.85}else this.speed=this.direct*this.speedMax;else this.speed=0;this.impending?this.speedY<.75*-this.speedYOrigin?this.speedY=.75*-this.speedYOrigin:this.speedY-=this.g*t:this.speedY=0},e.prototype.moveH=function(t){if(0!=this.speed){var e=this.node.getPosition();e.x+=this.speed*t,this.node.setPosition(e),this.node.x<this.limitBox.minPoint.x?this.node.x=this.limitBox.minPoint.x:this.node.x>this.limitBox.maxPoint.x&&(this.node.x=this.limitBox.maxPoint.x)}},e.prototype.moveV=function(t){if(this.impending){var e=this.node.getPosition();e.y+=this.speedY*t,this.node.setPosition(e),this.node.y<this.limitBox.minPoint.y?(this.node.y=this.limitBox.minPoint.y,this.beInjured()):this.node.y>this.limitBox.maxPoint.y&&(this.node.y=this.limitBox.maxPoint.y)}else this.speedY=0},e.prototype.startMoveLeft=function(){this.direct=-1},e.prototype.endMoveLeft=function(){this.direct=0},e.prototype.startMoveRight=function(){this.direct=1},e.prototype.endMoveRight=function(){this.direct=0},e.prototype.jump=function(){this.jumpCount>0&&(this.emit(a.EventType.AudioEvent.playEffect,l.GlobalEnum.AudioClip.jump),2==this.jumpCount&&(this.jumpAnim=s.tiao),1==this.jumpCount&&(this.jumpAnim=s.tiao),this.speedY=this.speedYOrigin,this.impending=!0,--this.jumpCount)},e.prototype.bomb=function(){this.bombCount>0&&(this.bombPlace(),this.bombCount--,this.emit(a.EventType.ControlEvent.changeUI,{BNum:this.bombCount}))},e.prototype.bombPlace=function(){this.emit(a.EventType.AudioEvent.playEffect,l.GlobalEnum.AudioClip.playBomb);var t=this.node.getPosition(),e=p.default.get(this.bombType);e.parent=this.node.parent,t.y+=70,e.setPosition(t),e.getComponent(u.default).use({BLV:this.inLevelData.BLV,time:1})},e.prototype.fallToTheGround=function(t){this.jumpCount=2,this.impending=!1,this.jumpAnim=s.tiao,this.speedY=0,this.collisAmend(t,2)},e.prototype.againstTheWall=function(t){0!=this.speed&&(this.canRuning=-this.speed/Math.abs(this.speed)),this.speed=0,this.collisAmend(t,1)},e.prototype.onCollisionEnter=function(t,e){var o=t.world.aabb,i=t.node.getComponent(u.default);if(e.node.getComponent(u.default),i.type==l.GlobalEnum.CollisType.terrain||i.type==l.GlobalEnum.CollisType.moveTerrain||i.type==l.GlobalEnum.CollisType.vessel){var n=e.world.aabb,r=this.collisDirec(t,e);if("-x"==r||"+x"==r){console.log("\u5411\u53f3\u79fb\u52a8\uff0c\u649e\u5899");var s=o.y+o.height-n.y;s/o.height>.1?(this.againstTheWall(0),this.CollisX.push(t.uuid)):(this.fallToTheGround(s),this.CollisY.push(t.uuid))}else if("+y"==r){console.log("\u5411\u4e0b\u79fb\u52a8\uff0c\u843d\u5730");var p=n.x<o.x?n.x:o.x,c=n.x+n.width<o.x+o.width?o.x+o.width:n.x+n.width;if((n.width+o.width-(c-p))/n.width>.05){var a=this.amendPos(o);this.fallToTheGround(a),this.CollisY.push(t.uuid)}else this.againstTheWall(0),this.CollisX.push(t.uuid)}}},e.prototype.onCollisionStay=function(){},e.prototype.onCollisionExit=function(t){var e=t.node.getComponent(u.default);if(e.type==l.GlobalEnum.CollisType.terrain||e.type==l.GlobalEnum.CollisType.moveTerrain||e.type==l.GlobalEnum.CollisType.vessel){var o=this.CollisX.indexOf(t.uuid),i=this.CollisY.indexOf(t.uuid);-1!=o&&this.CollisX.splice(o,1),-1!=i&&this.CollisY.splice(i,1)}console.log("on collision exit")},e.prototype.openTreasureBox=function(t){var e=this.CollisX.indexOf(t),o=this.CollisY.indexOf(t);-1!=e&&this.CollisX.splice(e,1),-1!=o&&this.CollisY.splice(o,1)},e.prototype.amendPos=function(t){var e=t.y+t.height,o=this.node.getComponent(cc.BoxCollider);return e-(this.node.convertToWorldSpaceAR(cc.v2()).y+o.offset.y-o.size.height/2)},e.prototype.collisAmend=function(t,e){if(1==e);else if(2==e&&t&&t>5){var o=this.node.getPosition();o.y+=t-5,this.node.setPosition(o)}},e.prototype.collisChange=function(){0==this.CollisX.length&&(this.canRuning=0),0==this.CollisY.length&&(this.impending=!0)},e.prototype.flick=function(){this.jumpAnim=s.tiao,this.speedY=1.5*this.speedYOrigin,this.impending=!0},e.prototype.platformove=function(t){var e=this.node.getPosition();e.addSelf(t),this.node.setPosition(e)},e.prototype.goldGet=function(t){this.emit(a.EventType.AudioEvent.playEffect,l.GlobalEnum.AudioClip.gold),this.inLevelData.Gold+=t,this.emit(a.EventType.ControlEvent.changeUI,{Gold:this.inLevelData.Gold})},e.prototype.getGold=function(){return this.inLevelData.Gold},e.prototype.setGold=function(t){this.inLevelData.Gold=t,this.emit(a.EventType.ControlEvent.changeUI,{Gold:this.inLevelData.Gold})},e.prototype.speedUpGet=function(t){this.emit(a.EventType.AudioEvent.playEffect,l.GlobalEnum.AudioClip.Prop),this.inLevelData.SLV+=t,this.speedMax=this.speedMax+10*this.inLevelData.SLV,this.emit(a.EventType.ControlEvent.changeUI,{SLV:this.inLevelData.SLV})},e.prototype.bombNumUpGet=function(t){this.emit(a.EventType.AudioEvent.playEffect,l.GlobalEnum.AudioClip.Prop),this.inLevelData.BNum+=t,this.bombCount+=t,this.emit(a.EventType.ControlEvent.changeUI,{BNum:this.bombCount})},e.prototype.bombLVUpGet=function(t){this.emit(a.EventType.AudioEvent.playEffect,l.GlobalEnum.AudioClip.Prop),this.inLevelData.BLV+=t,this.emit(a.EventType.ControlEvent.changeUI,{BLV:this.inLevelData.BLV})},e.prototype.beInjured=function(){this.beInjuredYN||(this.beInjuredYN=!0,this.invincibleTime=5,this._beInjured())},e.prototype._beInjured=function(){var t=this;this.inLevelData.Life>1?(this.inLevelData.Life--,console.log("\u53d7\u5230\u4f24\u5bb3\uff0cHP-1,^u^,*~*"),this.emit(a.EventType.ControlEvent.changeUI,{Life:this.inLevelData.Life}),this.emit(a.EventType.SDKEvent.vibrateShort)):(this.inLevelData.Life--,this.emit(a.EventType.ControlEvent.changeUI,{Life:this.inLevelData.Life}),this.emit(a.EventType.SDKEvent.vibrateLong),setTimeout(function(){t.customStep=t.stepEmpty},40),console.log("game loss"),setTimeout(function(){t.emit(a.EventType.PlayerEvent.death)},2e3))},e.prototype.starGet=function(){this.emit(a.EventType.AudioEvent.playEffect,l.GlobalEnum.AudioClip.Prop),this.inLevelData.Star+=1,this.emit(a.EventType.ControlEvent.starGet,this.inLevelData.Star)},e.prototype.getStar=function(){return this.inLevelData.Star},e.prototype.setStar=function(t){this.inLevelData.Star=t,this.emit(a.EventType.ControlEvent.starGet,this.inLevelData.Star)},e.prototype.lifeGet=function(t){this.emit(a.EventType.AudioEvent.playEffect,l.GlobalEnum.AudioClip.Prop),this.inLevelData.Life+=t,this.emit(a.EventType.ControlEvent.changeUI,{Life:this.inLevelData.Life})},r([d(cc.Node)],e.prototype,"body",void 0),r([f],e)}(u.default);o.default=y,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/PlayerData":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],SpeedUp:[function(t,e,o){"use strict";cc._RF.push(e,"beac96ICKtISrvrvr2erUJI","SpeedUp");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.prop,e.value=1,e.used=!1,e.box=null,e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.used=!1,this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){this.node.active=!0,this.used=!1},e.prototype.unuse=function(){this.node.active=!1,this.used=!1},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),t.value&&(this.value=t.value),this.resetCollisDirecs()},e.prototype.onCollisionEnter=function(t){if(!this.used){var e=t.node.getComponent(c.default);e.type==p.GlobalEnum.CollisType.palyer&&(this.used=!0,this.speedUpGet(),e.speedUpGet(this.value))}},e.prototype.speedUpGet=function(){this.node.active=!1,s.default.put(this.node)},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t.value=this.value,t},r([u({type:cc.Integer})],e.prototype,"value",void 0),r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Spring:[function(t,e,o){"use strict";cc._RF.push(e,"b4ff2dT21VJDqgSjgRFxTwQ","Spring");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.especially,e.sprites=[],e.spr=null,e}return n(e,t),e.prototype.init=function(){this.spr.spriteFrame=this.sprites[0]},e.prototype.reuse=function(){this.spr.spriteFrame=this.sprites[0]},e.prototype.unuse=function(){this.spr.spriteFrame=null},e.prototype.setData=function(){},e.prototype.onCollisionEnter=function(t,e){var o=t.node.getComponent(p.default);o.type!=s.GlobalEnum.CollisType.palyer&&o.type!=s.GlobalEnum.CollisType.prop||"+y"!=this.collisDirec(t,e)&&(this.flick(),o.flick&&o.flick()),console.log("Bomb")},e.prototype.flick=function(){var t=this;this.spr.spriteFrame=this.sprites[1],setTimeout(function(){t.spr.spriteFrame=t.sprites[0]},1)},e.prototype._getMapData=function(){return{}},r([l([cc.SpriteFrame])],e.prototype,"sprites",void 0),r([l(cc.Sprite)],e.prototype,"spr",void 0),r([a],e)}(p.default);o.default=u,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Stab:[function(t,e,o){"use strict";cc._RF.push(e,"a03d1Tv6XBJB7oUl7YJNFWE","Stab");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.barrier,e.use=!1,e}return n(e,t),e.prototype.init=function(){this.node.setPosition(cc.v2(0,-40)),this.use=!1},e.prototype.onCollisionEnter=function(t){var e=this,o=t.node.getComponent(c.default);o.type==p.GlobalEnum.CollisType.palyer&&o.beInjured&&o.beInjured(),o.type==p.GlobalEnum.CollisType.terrain&&(this.use=!1,setTimeout(function(){console.log("\u81ea\u6bc1"),s.default.put(e.node.parent)},3e3))},e.prototype.drop=function(){this.use||(this.use=!0)},e.prototype.update=function(){if(this.use){var t=this.node.getPosition();t.y-=10,this.node.setPosition(t)}},r([l],e)}(c.default));o.default=u,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Star:[function(t,e,o){"use strict";cc._RF.push(e,"35519GZrAdHPb2V6Dn2kwWR","Star");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/GameEventType"),c=t("../../../Script/GameSpecial/GlobalEnum"),a=t("../CollisType"),l=cc._decorator,u=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.GlobalEnum.CollisType.prop,e.value=1,e.used=!1,e.starAnimation=null,e.box=null,e}return n(e,t),e.prototype.init=function(){this.node.active=!0,this.used=!1,this.box=this.node.getComponent(cc.BoxCollider),this.playAnimation()},e.prototype.reuse=function(){this.node.active=!0,this.used=!1,this.playAnimation()},e.prototype.unuse=function(){this.node.active=!1,this.used=!1},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),t.value&&(this.value=t.value),this.resetCollisDirecs()},e.prototype.onCollisionEnter=function(t){if(!this.used){var e=t.node.getComponent(a.default);e.type==c.GlobalEnum.CollisType.palyer&&(this.used=!0,this.starGet(),e.starGet(this.value))}},e.prototype.starGet=function(){this.emit(p.EventType.AudioEvent.playEffect,c.GlobalEnum.AudioClip.Prop),this.animationEnd()},e.prototype.playAnimation=function(){this.starAnimation.play()},e.prototype.animationEnd=function(){this.starAnimation.stop(),this.node.active=!1,s.default.put(this.node)},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t.value=this.value,t},r([h({type:cc.Integer,range:[1,3]})],e.prototype,"value",void 0),r([h(cc.Animation)],e.prototype,"starAnimation",void 0),r([u],e)}(a.default);o.default=f,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Terminus:[function(t,e,o){"use strict";cc._RF.push(e,"08ab0kelidLiLZhpmMjwXRs","Terminus");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GameEventType"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.terminus,e.box=null,e}return n(e,t),e.prototype.init=function(){this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),this.resetCollisDirecs()},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(c.default);e.type==p.GlobalEnum.CollisType.palyer&&(this.emit(s.EventType.PlayerEvent.inTheWin),e.examineWin&&e.examineWin())},e.prototype.onCollisionExit=function(t){t.node.getComponent(c.default).type==p.GlobalEnum.CollisType.palyer&&this.emit(s.EventType.PlayerEvent.outTheWin)},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([l],e)}(c.default));o.default=u,cc._RF.pop()},{"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Terrain000:[function(t,e,o){"use strict";cc._RF.push(e,"251c1mKSURJtJq+SfE/r3Oi","Terrain000");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.terrain,e}return n(e,t),e.prototype.init=function(){},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),this.updateWidget()},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Terrain1:[function(t,e,o){"use strict";cc._RF.push(e,"0e623MPE5BHtZmPT1UbgFhj","Terrain1");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.terrain,e.box=null,e}return n(e,t),e.prototype.init=function(){this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),this.resetCollisDirecs(),this.updateWidget()},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Terrain2:[function(t,e,o){"use strict";cc._RF.push(e,"7bfcfQn5l5Fsp9sZFfWDc44","Terrain2");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.terrain,e.box=null,e}return n(e,t),e.prototype.init=function(){this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),this.resetCollisDirecs(),this.updateWidget()},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Terrain3_01:[function(t,e,o){"use strict";cc._RF.push(e,"d89a2/Tq81KLoC6tQw0AsAS","Terrain3_01");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.terrain,e}return n(e,t),e.prototype.init=function(){},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(){},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Terrain3:[function(t,e,o){"use strict";cc._RF.push(e,"7e72fsyYKdD+bNO4E39wssv","Terrain3");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.terrain,e.boxs=[],e}return n(e,t),e.prototype.init=function(){this.boxs.push(this.node.getComponent(cc.BoxCollider)),this.boxs.push(this.node.getComponentInChildren(cc.BoxCollider))},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),this.resetCollisDirecs(),this.updateWidget()},e.prototype.resetCollisDirecs=function(){this.boxs[0].size=cc.size(this.node.width,50),this.boxs[0].offset=cc.v2(0,this.node.height/2-25),this.boxs[1].size=cc.size(this.node.width-200,75),this.boxs[1].offset=cc.v2(0,0)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Terrain4:[function(t,e,o){"use strict";cc._RF.push(e,"765ceNFtUBGx4hOsbkW/nUM","Terrain4");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.terrain,e}return n(e,t),r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Terrain5:[function(t,e,o){"use strict";cc._RF.push(e,"f3405CHEjRBcKcFgnqMn6TR","Terrain5");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GlobalEnum"),p=t("../CollisType"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.GlobalEnum.CollisType.terrain,e.box=null,e}return n(e,t),e.prototype.init=function(){this.box=this.node.getComponent(cc.BoxCollider)},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1]),this.resetCollisDirecs(),this.updateWidget()},e.prototype.resetCollisDirecs=function(){this.box.size=cc.size(this.node.width,50),this.box.offset=cc.v2(0,this.node.height/2-25)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Terrain6:[function(t,e,o){"use strict";cc._RF.push(e,"a87297SeIFFD6+9bV30Kiij","Terrain6");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.moveTerrain,e.platform=null,e}return n(e,t),e.prototype.init=function(){this.platform.getComponent(c.default).init()},e.prototype.reuse=function(){},e.prototype.unuse=function(){s.default.getMng(s.ActionMngType.Level).stopAllActions(this.platform)},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1],this.node.getChildByName("pathway").getComponent(cc.Widget).updateAlignment()),this.setPlatformMove(),this.updateWidget()},e.prototype.setPlatformMove=function(){var t=this.node.width/80*.5,e=cc.v2(-this.node.width/2,0),o=cc.v2(this.node.width/2,0);this.platform.setPosition(e);var i=s.default.getMng(s.ActionMngType.Level);i.stopAllActions(this.platform);var n=s.default.moveTo(t,o.x,o.y),r=s.default.moveTo(t,e.x,e.y),p=s.default.sequence(n,r),c=s.default.repeatForever(p);i.runAction(this.platform,c)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([u(cc.Node)],e.prototype,"platform",void 0),r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],Terrain7:[function(t,e,o){"use strict";cc._RF.push(e,"6737ahtDzJIE4dNoKVIh0lJ","Terrain7");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=a.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.moveTerrain,e.platform=null,e}return n(e,t),e.prototype.init=function(){this.platform.getComponent(c.default).init()},e.prototype.reuse=function(){},e.prototype.unuse=function(){s.default.getMng(s.ActionMngType.Level).stopAllActions(this.platform)},e.prototype.setData=function(t){t.size&&(this.node.width=t.size[0],this.node.height=t.size[1],this.node.getChildByName("pathway").getComponent(cc.Widget).updateAlignment()),this.setPlatformMove(),this.updateWidget()},e.prototype.setPlatformMove=function(){var t=this.node.height/80*.5,e=cc.v2(0,-this.node.height/2),o=cc.v2(0,this.node.height/2);this.platform.setPosition(e);var i=s.default.getMng(s.ActionMngType.Level);i.stopAllActions(this.platform);var n=s.default.moveTo(t,o.x,o.y),r=s.default.moveTo(t,e.x,e.y),p=s.default.sequence(n,r),c=s.default.repeatForever(p);i.runAction(this.platform,c)},e.prototype._getMapData=function(){var t={};return t.size=[this.node.width,this.node.height],t},r([u(cc.Node)],e.prototype,"platform",void 0),r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],TreasureBox:[function(t,e,o){"use strict";cc._RF.push(e,"6141aDby95GRIHHSzwJ3/lj","TreasureBox");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/EventManager"),p=t("../../../Script/Common/GameFlow"),c=t("../../../Script/Common/GlobalPool"),a=t("../../../Script/Common/PlayerData"),l=t("../../../Script/GameSpecial/GameEventType"),u=t("../../../Script/GameSpecial/GlobalEnum"),h=t("../CollisType"),f=cc._decorator,d=f.ccclass,y=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=u.GlobalEnum.CollisType.vessel,e.drop=u.PropEnum.Gold,e.dropValue=1,e}return n(e,t),e.prototype.init=function(){this.node.active=!0},e.prototype.reuse=function(){this.node.active=!0},e.prototype.unuse=function(){this.node.active=!1},e.prototype.setData=function(t){t.drop&&(this.drop=t.drop),t.value&&(this.dropValue=t.value)},e.prototype.onCollisionEnter=function(t,e){t.node.getComponent(h.default).type==u.GlobalEnum.CollisType.palyer&&this.openBox(e.uuid)},e.prototype.openBox=function(t){var e=this;this.node.active=!1,setTimeout(function(){e.emit(l.EventType.VesselEvent.open,t)},40),this.emit(l.EventType.DirectorEvent.pauseLevel);var o=a.default.getData("advertSwitch."+u.GlobalEnum.AdvertSwitchType.playingwuchucishu),i=p.default.getGlobalConfig(u.GlobalEnum.GameFlowGlobalConfig.levelTouchBanner),n={chuxian:"2-6",zadanbidiankaiguan:p.default.getGlobalConfig(u.GlobalEnum.GameFlowGlobalConfig.mustTouchBanner)};if(o>=i)return this.dropProp(),void c.default.put(this.node);this.emit(l.EventType.PlayerDataEvent.updatePlayerData,{type:"gameData",attribute:"advertSwitch."+u.GlobalEnum.AdvertSwitchType.playingwuchucishu,value:1,mode:"+",save:!0,emit:!0}),s.default.once(l.EventType.UIEvent.touchBannerFinish,this.dropProp,this),s.default.emit(l.EventType.UIEvent.enter,u.GlobalEnum.UI.touchBannerInGame,{config:n}),c.default.put(this.node)},e.prototype._getMapData=function(){var t={};return t.drop=this.drop,t.value=this.dropValue,t},e.prototype.dropProp=function(){if(this.emit(l.EventType.DirectorEvent.resumeLevel),this.drop==u.PropEnum.null){var t=[u.PropEnum.Gold,u.PropEnum.BombLVUp,u.PropEnum.BombNumUp,u.PropEnum.SpeedUp,u.PropEnum.Life],e=Math.floor(Math.random()*t.length);this.drop=t[e],this.dropValue=1}this.emit(l.EventType.VesselEvent.dropProp,{pos:this.node.convertToWorldSpaceAR(cc.v2()),drop:this.drop,value:this.dropValue})},r([y({type:cc.Enum(u.PropEnum)})],e.prototype,"drop",void 0),r([y({type:cc.Integer})],e.prototype,"dropValue",void 0),r([d],e)}(h.default);o.default=m,cc._RF.pop()},{"../../../Script/Common/EventManager":void 0,"../../../Script/Common/GameFlow":void 0,"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/PlayerData":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],WaterBombEffect:[function(t,e,o){"use strict";cc._RF.push(e,"7e7c3KKje9Mp58DID6WnuEi","WaterBombEffect");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/Common/yyComponent"),c=cc._decorator,a=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anima=null,e}return n(e,t),e.prototype.init=function(){this.anima=this.node.getComponent(cc.Animation),this.anima.play()},e.prototype.reuse=function(){this.anima.play()},e.prototype.unuse=function(){this.anima.stop()},e.prototype.animaOver=function(){s.default.put(this.node)},r([a],e)}(p.default));o.default=l,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/Common/yyComponent":void 0}],WaterBomb:[function(t,e,o){"use strict";cc._RF.push(e,"09e12/DDoZOHop9x/02Mma+","WaterBomb");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/Action3dManager"),p=t("../../../Script/Common/GlobalPool"),c=t("../../../Script/GameSpecial/GameEventType"),a=t("../../../Script/GameSpecial/GlobalEnum"),l=t("../CollisType"),u=t("./WaterPower"),h=cc._decorator,f=h.ccclass,d=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=a.GlobalEnum.CollisType.prop,e.bombType=a.GlobalEnum.BombType.WaterBomb,e.powers=[],e.speed=0,e.a=320,e.impending=!1,e.countDown=5,e.BLV=1,e.bombTime=0,e.bombing=!1,e.onceTime=.1,e.bombed=!1,e}return n(e,t),e.prototype.init=function(){this.node.active=!1;for(var t=0;t<this.powers.length;t++)this.powers[t].init();this.initData()},e.prototype.reuse=function(){this.node.active=!1;for(var t=0;t<this.powers.length;t++)this.powers[t].reuse();this.initData()},e.prototype.unuse=function(){this.node.active=!1;for(var t=0;t<this.powers.length;t++)this.powers[t].unuse();this.initData()},e.prototype.use=function(t){this.speed=-100,this.impending=!0,this.countDown=t.time,this.BLV=t.BLV,this.node.active=!0,this.bombed=!1,this.setScale(cc.v3(1,1)),this.bombAnim()},e.prototype.update=function(t){if(this.impending?this.speed-=this.a*t:this.speed=0,0!=this.speed){var e=this.node.getPosition();e.y+=this.speed*t,this.node.setPosition(e)}this.bombing?(this.bombTime+=t,this.bombed||(this.bombed=!0,this.emit(c.EventType.AudioEvent.playEffect,a.GlobalEnum.AudioClip.bomb),s.default.getMng(s.ActionMngType.UI).stopAllActions(this.node),this.setScale(cc.v3(1,1))),this.bombTime<this.onceTime?this.Bomb():(this.node.active=!1,this.emit(c.EventType.BombEvent.explodeEnd),p.default.put(this.node))):(this.countDown-=t,this.countDown<=0&&(this.bombing=!0))},e.prototype.initData=function(){this.speed=200,this.countDown=5,this.BLV=1,this.bombTime=0,this.bombing=!1},e.prototype.Bomb=function(){console.log("\u7206\u70b8");for(var t=0;t<this.powers.length;t++)this.powers[t].bomb(this.BLV*this.bombTime/this.onceTime);s.default.getMng(s.ActionMngType.UI).stopAllActions(this.node)},e.prototype.bombAnim=function(){var t=s.default.scaleTo(.2,.75,.75),e=s.default.scaleTo(.2,1.3,1.3),o=s.default.sequence(t,e),i=s.default.repeatForever(o);s.default.getMng(s.ActionMngType.UI).runAction(this.node,i)},e.prototype.onCollisionEnter=function(t,e){var o=t.node.getComponent(l.default);if((o.type==a.GlobalEnum.CollisType.terrain||o.type==a.GlobalEnum.CollisType.vessel||o.type==a.GlobalEnum.CollisType.moveTerrain)&&"+y"==this.collisDirec(t,e)){this.impending=!1;var i=e.world.preAabb,n=e.world.aabb.y-i.y,r=this.node.getPosition();r.y-=n,this.node.setPosition(r)}console.log("Bomb")},e.prototype.flick=function(){this.impending=!0,this.speed=200},e.prototype.platformove=function(t){var e=this.node.getPosition();e.addSelf(t),this.node.setPosition(e)},r([d([u.default])],e.prototype,"powers",void 0),r([f],e)}(l.default);o.default=y,cc._RF.pop()},{"../../../Script/Common/Action3dManager":void 0,"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType","./WaterPower":"WaterPower"}],WaterPower:[function(t,e,o){"use strict";cc._RF.push(e,"170cce04RtJ94InsCgCbzV2","WaterPower");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/GameSpecial/GameEventType"),p=t("../../../Script/GameSpecial/GlobalEnum"),c=t("../CollisType"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=p.GlobalEnum.CollisType.prop,e.bombType=p.GlobalEnum.BombType.WaterBomb,e.box=null,e.originwidth=40,e.onePower=40,e}return n(e,t),e.prototype.init=function(){this.node.active=!1,this.reset()},e.prototype.reuse=function(){this.node.active=!1,this.reset()},e.prototype.unuse=function(){this.node.active=!1,this.reset()},e.prototype.reset=function(){this.node.width=this.originwidth,this.resetBox()},e.prototype.resetBox=function(){this.box||(this.box=this.node.getComponent(cc.BoxCollider)),this.box.size=cc.size(this.node.width,this.node.height),this.box.offset=cc.v2(-this.node.width/2,0)},e.prototype.onCollisionEnter=function(t){var e=t.node.getComponent(c.default);if(e.type==p.GlobalEnum.CollisType.vessel){var o=e.node.convertToWorldSpaceAR(cc.v2());this.emit(s.EventType.BombEvent.playEffect,{pos:o,type:this.bombType}),e.destruction&&e.destruction()}else e.type==p.GlobalEnum.CollisType.foe&&(o=e.node.convertToWorldSpaceAR(cc.v2()),this.emit(s.EventType.BombEvent.playEffect,{pos:o,type:this.bombType}),e.foeDie&&e.foeDie())},e.prototype.bomb=function(t){this.node.active=!0;var e=this.originwidth+t*this.onePower;this.node.width=e,this.resetBox()},r([l],e)}(c.default));o.default=u,cc._RF.pop()},{"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],WoodenBox:[function(t,e,o){"use strict";cc._RF.push(e,"9ce32vEZpZIpa9KBVPfzCfZ","WoodenBox");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/GameEventType"),c=t("../../../Script/GameSpecial/GlobalEnum"),a=t("../CollisType"),l=cc._decorator,u=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.GlobalEnum.CollisType.vessel,e.drop=c.PropEnum.null,e.dropValue=0,e}return n(e,t),e.prototype.init=function(){this.node.active=!0},e.prototype.reuse=function(){this.node.active=!0},e.prototype.unuse=function(){this.node.active=!1},e.prototype.setData=function(t){t.drop&&(this.drop=t.drop),t.value&&(this.dropValue=t.value)},e.prototype.destruction=function(){var t=this;this.node.active=!1,this.emit(p.EventType.VesselEvent.destruction),this.drop!==c.PropEnum.null&&setTimeout(function(){t.emit(p.EventType.VesselEvent.dropProp,{pos:t.node.convertToWorldSpaceAR(cc.v2()),drop:t.drop,value:t.dropValue})},100),s.default.put(this.node)},e.prototype._getMapData=function(){var t={};return t.drop=this.drop,t.value=this.dropValue,t},r([h({type:cc.Enum(c.PropEnum)})],e.prototype,"drop",void 0),r([h({type:cc.Integer})],e.prototype,"dropValue",void 0),r([u],e)}(a.default);o.default=f,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}],WoodenVat:[function(t,e,o){"use strict";cc._RF.push(e,"55325fffOdAWLvKdOpHEXJU","WoodenVat");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var p=t.length-1;p>=0;p--)(n=t[p])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Script/Common/GlobalPool"),p=t("../../../Script/GameSpecial/GameEventType"),c=t("../../../Script/GameSpecial/GlobalEnum"),a=t("../CollisType"),l=cc._decorator,u=l.ccclass,h=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=c.GlobalEnum.CollisType.vessel,e.drop=c.PropEnum.null,e.dropValue=0,e}return n(e,t),e.prototype.init=function(){this.node.active=!0},e.prototype.reuse=function(){this.node.active=!0},e.prototype.unuse=function(){this.node.active=!1},e.prototype.setData=function(t){t.drop&&(this.drop=t.drop),t.value&&(this.dropValue=t.value)},e.prototype.destruction=function(){var t=this;this.node.active=!1,this.emit(p.EventType.VesselEvent.destruction),this.drop!==c.PropEnum.null&&setTimeout(function(){t.emit(p.EventType.VesselEvent.dropProp,{pos:t.node.convertToWorldSpaceAR(cc.v2()),drop:t.drop,value:t.dropValue})},100),s.default.put(this.node)},e.prototype._getMapData=function(){var t={};return t.drop=this.drop,t.value=this.dropValue,t},r([h({type:cc.Enum(c.PropEnum)})],e.prototype,"drop",void 0),r([h({type:cc.Integer})],e.prototype,"dropValue",void 0),r([u],e)}(a.default);o.default=f,cc._RF.pop()},{"../../../Script/Common/GlobalPool":void 0,"../../../Script/GameSpecial/GameEventType":void 0,"../../../Script/GameSpecial/GlobalEnum":void 0,"../CollisType":"CollisType"}]},{},["Barrier1","Barrier2","Barrier2_1","Barrier3","Barrier4","Stab","FireBomb","FireBombEffect","FirePower","GasBomb","GasBombEffect","GasPower","Lightning","LightningBomb","LightningBombEffect","LightningPower","WaterBomb","WaterBombEffect","WaterPower","CollisManager","CollisType","ControlUI","Foe","Foe1","Foe2","LevelCamera","LevelCameraOld","LevelManager","MainSceneScr","MyLevelManager","Player","Player1","Player2","Player3","Player4","BombLVUp","BombNumUp","Gold","Life","SpeedUp","Star","ChangeRole","Platform","Spring","Terminus","Terrain000","Terrain1","Terrain2","Terrain3","Terrain3_01","Terrain4","Terrain5","Terrain6","Terrain7","TreasureBox","WoodenBox","WoodenVat"]);