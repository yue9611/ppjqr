window.__require=function t(e,o,i){function n(s,a){if(!o[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var p="function"==typeof __require&&__require;if(!a&&p)return p(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var h=o[s]={exports:{}};e[s][0].call(h.exports,function(t){return n(e[s][1][t]||t)},h,h.exports,t,e,o,i)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)n(i[s]);return n}({ChooseLevelUI:[function(t,e,o){"use strict";cc._RF.push(e,"5c5621S2uZBy5v/B3HCjZ1I","ChooseLevelUI");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/yyComponent"),a=t("../../Script/Common/PlayerData"),c=t("../../Script/GameSpecial/GameEventType"),p=t("../../Script/Common/Action3dManager"),h=t("../../Script/GameSpecial/GlobalEnum"),l=cc._decorator,u=l.ccclass,d=l.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.plane=null,e.itemLayer=null,e.levelItemSprites=[],e.passItem=null,e.clockItem=null,e.levelLayer=null,e.levelLabels=[],e.countPerPage=16,e.curPage=0,e.maxPage=62,e.btnPrePage=null,e.btnNextPage=null,e.unlockEffectMask=null,e.unlockGuang=null,e}return n(e,t),e.prototype.init=function(){this.initUnlockEffect(),this.initComponents(),this.initItems(),this.initPage()},e.prototype.reset=function(){this.resetUnlockEffect()},e.prototype.show=function(){this.node.active=!0;var t=a.default.getData("gameData.curLevel");this.curPage=void 0===t?0:Math.floor((t-1)/this.countPerPage),this.showRecords(this.curPage),this.updateBtnState(),this.playPlane()},e.prototype.playPlane=function(){var t=0,e=this.plane.getComponent(cc.Widget);e&&(t=e.bottom,e.enabled=!1);var o,i=this.plane.height*this.plane.anchorY;o=e?-this.node.height*this.node.anchorY+t+i:this.node.height*(1-this.node.anchorY)-this.plane.height*(1-this.plane.anchorY),this.plane.setPosition(0,i+this.node.height*(1-this.node.anchorY),0);var n=p.default.moveTo(1,0,o,0);n.easing(p.default.easeElasticOut(.35)),p.default.getMng(p.ActionMngType.UI).runAction(this.plane,n)},e.prototype.initItems=function(){var t=this;this.countPerPage=this.itemLayer.childrenCount,this.levelItemSprites=[];for(var e=function(e){o.itemLayer.children[e].on("touchend",function(){t.onChooseLevel(e)},o),o.levelItemSprites.push(o.itemLayer.children[e].getComponent(cc.Sprite))},o=this,i=0;i<this.countPerPage;++i)e(i);for(this.levelLabels=[],i=0;i<this.countPerPage;++i)this.levelLabels.push(this.levelLayer.children[i].getComponent(cc.Label))},e.prototype.onChooseLevel=function(t){this.emit(c.EventType.AudioEvent.playClickBtn);var e=this.curPage*this.countPerPage+t+1;e<=a.default.getData("gameData.curLevel")&&this.emit(c.EventType.DirectorEvent.enterChosedLevel,e)},e.prototype.initPage=function(){var t=this.itemLayer.childrenCount;this.maxPage=Math.floor(1e3/t)},e.prototype.showRecords=function(t){void 0===t&&(t=this.curPage);for(var e=a.default.getData("gameData.curLevel"),o=t*this.countPerPage+1,i=0;i<this.countPerPage;++i){var n=o+i;n>e?(this.levelItemSprites[i].spriteFrame=this.clockItem,this.levelLabels[i].string=""):(this.levelItemSprites[i].spriteFrame=this.passItem,this.levelLabels[i].string=n.toString())}},e.prototype.updateBtnState=function(){this.btnPrePage.interactable=this.curPage>0,this.btnNextPage.interactable=this.curPage<this.maxPage},e.prototype.onBtnPrePage=function(){this.emit(c.EventType.AudioEvent.playClickBtn),this.curPage<=0||(this.curPage-=1,this.showRecords(this.curPage),this.updateBtnState())},e.prototype.onBtnNextPage=function(){this.emit(c.EventType.AudioEvent.playClickBtn),this.curPage>=this.maxPage||(this.curPage+=1,this.showRecords(this.curPage),this.updateBtnState())},e.prototype.onBtnClose=function(){this.emit(c.EventType.AudioEvent.playClickBtn),this.emit(c.EventType.UIEvent.exit,h.GlobalEnum.UI.chooseLevel)},e.prototype.onBtnUnclock=function(){this.emit(c.EventType.AudioEvent.playClickBtn),this.emit(c.EventType.SDKEvent.showVideo,{success:this.unlockLevel.bind(this)})},e.prototype.unlockLevel=function(){var t=this.curPage,e=a.default.getData("gameData.curLevel");(t=void 0===e?0:Math.floor(e/this.countPerPage))!=this.curPage&&(this.curPage=t,this.showRecords(this.curPage));var o=e%this.countPerPage,i=this.plane.convertToNodeSpaceAR(this.itemLayer.children[o].convertToWorldSpaceAR(cc.v2(0,38)));this.showUnlockEffect(i)},e.prototype.initUnlockEffect=function(){this.unlockEffectMask.active=!1,this.unlockGuang.active=!1},e.prototype.resetUnlockEffect=function(){p.default.getMng(p.ActionMngType.UI).stopAllActions(this.unlockEffectMask),p.default.getMng(p.ActionMngType.UI).stopAllActions(this.unlockGuang),this.unlockEffectMask.active=!1,this.unlockGuang.active=!1},e.prototype.showUnlockEffect=function(t){if(this.emit(c.EventType.UIEvent.showTouchMask),void 0===t){var e=a.default.getData("gameData.curLevel")%this.countPerPage;t=this.plane.convertToNodeSpaceAR(this.itemLayer.children[e].convertToWorldSpaceAR(cc.v2(0,38)))}this.unlockEffectMask.active=!0,this.unlockEffectMask.setPosition(t),this.unlockEffectMask.opacity=50;var o=p.default.fadeTo(1,255);o.easing(p.default.easeSinIn());var i=p.default.callFun(this.onUnlockEffectFadeIn.bind(this),this),n=p.default.delay(.3),r=p.default.fadeTo(.5,0),s=p.default.callFun(this.onUnlockEffectFadeOut,this),h=p.default.sequence(o,i,n,r,s);p.default.getMng(p.ActionMngType.UI).runAction(this.unlockEffectMask,h)},e.prototype.onUnlockEffectFadeIn=function(){this.emit(c.EventType.PlayerDataEvent.updatePlayerData,{type:"gameData",attribute:"gameData.curLevel",value:1,mode:"+"}),this.showRecords(this.curPage),this.updateBtnState()},e.prototype.onUnlockEffectFadeOut=function(){p.default.getMng(p.ActionMngType.UI).stopAllActions(this.unlockGuang),this.unlockEffectMask.active=!1,this.unlockGuang.active=!1,this.emit(c.EventType.UIEvent.hideTouchMask)},r([d(cc.Node)],e.prototype,"plane",void 0),r([d(cc.Node)],e.prototype,"itemLayer",void 0),r([d(cc.SpriteFrame)],e.prototype,"passItem",void 0),r([d(cc.SpriteFrame)],e.prototype,"clockItem",void 0),r([d(cc.Node)],e.prototype,"levelLayer",void 0),r([d(cc.Button)],e.prototype,"btnPrePage",void 0),r([d(cc.Button)],e.prototype,"btnNextPage",void 0),r([d(cc.Node)],e.prototype,"unlockEffectMask",void 0),r([d(cc.Node)],e.prototype,"unlockGuang",void 0),r([u],e)}(s.default);o.default=y,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/PlayerData":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],ChooseLevel:[function(t,e,o){"use strict";cc._RF.push(e,"f021amoMRJIF4MR+vKuWQ0/","ChooseLevel");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/Action3dManager"),a=t("../../Script/Common/GlobalPool"),c=t("../../Script/Common/PlayerData"),p=t("../../Script/Common/yyComponent"),h=t("../../Script/GameSpecial/GameEventType"),l=t("./LvBox"),u=cc._decorator,d=u.ccclass,y=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelRecords={},e.nowLv=1,e.maxLv=10,e.indexNum=[1,9,17],e.lastNode=null,e.nextNode=null,e.boxsS=[],e.boxsScr=[],e.touchMask=null,e.touchMaskCount=!1,e}return n(e,t),e.prototype.init=function(){this.touchMaskCount=!1,this.initBoxsS(),this.updateTMC(),this.onEvents()},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.setData=function(t){this.node.active=!0,this.nowLv=t.nowlv,this.maxLv=t.maxLv,this.levelRecords=c.default.getData("gameData.levelRecords"),this.boxsScr.length>0?this.initIndexNum():this.initBoxsS(this.initIndexNum.bind(this))},e.prototype.onEvents=function(){this.on(h.EventType.ChooseEvent.levelClose,this.levelClose,this),this.on(h.EventType.ChooseEvent.levelChoose,this.levelChoose,this)},e.prototype.offEvents=function(){this.on(h.EventType.ChooseEvent.levelClose,this.levelClose,this),this.on(h.EventType.ChooseEvent.levelChoose,this.levelChoose,this)},e.prototype.levelClose=function(){this.emit(h.EventType.UIEvent.showTip,"\u5173\u5361\u672a\u5f00\u653e"),console.log("\u5173\u5361\u672a\u5f00\u653e")},e.prototype.levelChoose=function(t){t>0&&t<=this.maxLv?(console.log("\u5173\u5361\u5b58\u5728\uff0c\u5c06\u8fdb\u5165\u5173\u5361"),this.emit(h.EventType.LevelEvent.choseLevelItem,t)):console.log("\u5173\u5361\u6682\u65f6\u672a\u51c6\u5907\u597d\uff0c\u8fdb\u5165\u5173\u5361\u5931\u8d25")},e.prototype.initIndexNum=function(){var t=8*Math.floor((this.nowLv-1)/8)+1;this.indexNum=[t-8,t,t+8],this.updateBoxs()},e.prototype.last=function(){this.onBtn(this.lastNode),this.indexNum[1]-this.indexNum[0]==8&&this.indexNum[0]>0?this.rightMove():(this.emit(h.EventType.UIEvent.showTip,"\u8fd9\u8fb9\u6ca1\u6709\u4e86"),console.log("\u65e0\u6548\u5173\u5361\u9875"))},e.prototype.next=function(){this.onBtn(this.nextNode),this.indexNum[2]-this.indexNum[1]==8&&this.indexNum[2]<=this.maxLv?this.leftMove():(this.emit(h.EventType.UIEvent.showTip,"\u8fd9\u8fb9\u6ca1\u6709\u4e86"),console.log("\u65e0\u6548\u5173\u5361\u9875"))},e.prototype.rightMove=function(){this.indexNum=[this.indexNum[0]-8,this.indexNum[0],this.indexNum[1]],this.boxsS=[this.boxsS[2],this.boxsS[0],this.boxsS[1]],this.boxsScr=[this.boxsScr[2],this.boxsScr[0],this.boxsScr[1]],this.updateBoxs()},e.prototype.leftMove=function(){this.indexNum=[this.indexNum[1],this.indexNum[2],this.indexNum[2]+8],this.boxsS=[this.boxsS[1],this.boxsS[2],this.boxsS[0]],this.boxsScr=[this.boxsScr[1],this.boxsScr[2],this.boxsScr[0]],this.updateBoxs()},e.prototype.initBoxsS=function(t){if(!this.boxsScr[0]||!this.boxsScr[0][0])for(var e=0;e<this.boxsS.length;e++)for(var o=0;o<8;o++){var i=a.default.get("LvBox");this.boxsScr[e]||this.boxsScr.push([]),this.boxsS[e].addChild(i);var n=i.getComponent(l.default);this.boxsScr[e].push(n)}t&&setTimeout(function(){t()},0)},e.prototype.updateBoxs=function(){this.moveBoxS();for(var t=0;t<this.indexNum.length;t++)this.indexNum[t]>0&&this.indexNum[t]<=this.maxLv?this.updataBox(t):console.log("\u975e\u6cd5\u5173\u5361")},e.prototype.updateTMC=function(){this.touchMaskCount?this.touchMask.active=!0:this.touchMask.active=!1},e.prototype.moveBoxS=function(){for(var t=s.default.getMng(s.ActionMngType.UI),e=0;e<this.boxsS.length;e++){var o=1e3*e-1e3,i=this.boxsS[e].getPosition(),n=1;Math.abs(i.x-o)>1500&&(n=0);var r=s.default.moveTo(n,o,i.y),a=s.default.callFun(this.boxMoved,this),c=s.default.sequence(r,a);t.runAction(this.boxsS[e],c),this.touchMaskCount=!0}this.updateTMC()},e.prototype.boxMoved=function(){this.touchMaskCount=!1,this.updateTMC()},e.prototype.updataBox=function(t){for(var e=this.indexNum[t],o=0;o<this.boxsScr[t].length;o++){var i=e+o;i>this.maxLv&&(i=999);var n=0,r=0;i<this.nowLv?(n=0,r=this.getStarNum(i)):i==this.nowLv?n=1:i>this.nowLv&&(n=2),this.boxsScr[t][o].setData({lv:i,openState:n,starNum:r})}},e.prototype.getStarNum=function(t){return this.levelRecords[t]?this.levelRecords[t]:0},e.prototype.onBtn=function(t){var e=.97;t.setScale(e,e),e=1.03;var o=s.default.scaleTo(.5,e,e,e);e=.97;var i=s.default.scaleTo(.5,e,e,e),n=s.default.sequence(o,i);s.default.getMng(s.ActionMngType.UI).runAction(t,n)},e.prototype.stopBtn=function(t){s.default.getMng(s.ActionMngType.UI).stopAllActions(t)},r([y(cc.Node)],e.prototype,"lastNode",void 0),r([y(cc.Node)],e.prototype,"nextNode",void 0),r([y([cc.Node])],e.prototype,"boxsS",void 0),r([y(cc.Node)],e.prototype,"touchMask",void 0),r([d],e)}(p.default);o.default=f,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/GlobalPool":void 0,"../../Script/Common/PlayerData":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"./LvBox":"LvBox"}],ConfigSettingUI:[function(t,e,o){"use strict";cc._RF.push(e,"5219a61WZBHrLPY3aPlPMyY","ConfigSettingUI");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/yyComponent"),a=t("../../Script/GameSpecial/GameConfig"),c=t("../../Script/GameSpecial/GameEventType"),p=t("../../Script/GameSpecial/GlobalEnum"),h=cc._decorator,l=h.ccclass,u=h.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.togBGM=null,e.togEffect=null,e.togVibrate=null,e}return n(e,t),e.prototype.initConfig=function(){var t=a.default.audioConfig;this.togBGM.isChecked=t.bgm,this.togEffect.isChecked=t.effect;var e=a.default.driveConfig;this.togVibrate.isChecked=e.vibrate},e.prototype.init=function(){this.initComponents(),this.initConfig()},e.prototype.show=function(){this.node.active||(this.node.active=!0,this.emit(c.EventType.DirectorEvent.pauseLevel),this.initConfig())},e.prototype.hide=function(){this.node.active&&(this.node.active=!1,this.emit(c.EventType.DirectorEvent.resumeLevel))},e.prototype.saveConfig=function(){var t={bgm:this.togBGM.isChecked,effect:this.togEffect.isChecked};a.default.audioConfig=t;var e={vibrate:this.togVibrate.isChecked};a.default.driveConfig=e},e.prototype.onBtnClose=function(){this.saveConfig(),this.emit(c.EventType.DirectorEvent.resumeLevel),this.emit(c.EventType.UIEvent.exit,p.GlobalEnum.UI.configSetting)},e.prototype.onCloseBGM=function(){this.togBGM.isChecked?this.emit(c.EventType.AudioEvent.playBGM,p.GlobalEnum.AudioClip.BGM):this.emit(c.EventType.AudioEvent.stopBGM)},r([u(cc.Toggle)],e.prototype,"togBGM",void 0),r([u(cc.Toggle)],e.prototype,"togEffect",void 0),r([u(cc.Toggle)],e.prototype,"togVibrate",void 0),r([l],e)}(s.default);o.default=d,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameConfig":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],GetPropUI:[function(t,e,o){"use strict";cc._RF.push(e,"a0c27yb2NNPA4/pE9857oFC","GetPropUI");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/PlayerData"),a=t("../../Script/Common/yyComponent"),c=t("../../Script/GameSpecial/AdConfig"),p=t("../../Script/GameSpecial/GameEventType"),h=t("../../Script/GameSpecial/GlobalEnum"),l=cc._decorator,u=l.ccclass,d=l.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._uiType=h.GlobalEnum.UI.getProp,e.bombNumUp=null,e.bombLVUp=null,e.speedUp=null,e.showSpr=null,e.type=null,e}return n(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return this._uiType},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.node.active=!0,this.randomProp()},e.prototype.reuse=function(){},e.prototype.unuse=function(){},e.prototype.show=function(){this.node.active=!0,this.emit(p.EventType.UIEvent.enter,h.GlobalEnum.UI.playerAssetBar),this.randomProp(),this.showBanner()},e.prototype.hide=function(){this.node.active=!1,this.emit(p.EventType.UIEvent.exit,h.GlobalEnum.UI.playerAssetBar)},e.prototype.setData=function(){},e.prototype.randomProp=function(){var t=Math.floor(3*Math.random());switch(3==t&&(t=2),t){case 0:this.type="BNum",this.showSpr.spriteFrame=this.bombNumUp;break;case 1:this.type="BLV",this.showSpr.spriteFrame=this.bombLVUp;break;case 2:this.type="SLV",this.showSpr.spriteFrame=this.speedUp}},e.prototype.onBtnBuy=function(){this.emit(p.EventType.AudioEvent.playClickBtn),s.default.getData("gameData.asset.gold")<200?this.tipGoldUnenough():(this.subGold(200),this.addPorp())},e.prototype.subGold=function(t){this.emit(p.EventType.PlayerDataEvent.updatePlayerData,{type:"gameData",attribute:"gameData.asset.gold",value:t,mode:"-",save:!1,emit:!0})},e.prototype.tipGoldUnenough=function(){this.emit(p.EventType.UIEvent.showTip,"\u91d1\u5e01\u4e0d\u8db3")},e.prototype.onBtnVideo=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this.emit(p.EventType.SDKEvent.showVideo,{success:this.videoSuccess.bind(this),quit:this.VideoQuit.bind(this)})},e.prototype.videoSuccess=function(){this.addPorp()},e.prototype.VideoQuit=function(){this.emit(p.EventType.UIEvent.showTip,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u624d\u80fd\u83b7\u5f97\u9053\u5177~~")},e.prototype.addPorp=function(){this.emit(p.EventType.GetPropEvent.GetProp,{type:this.type,value:1}),this.emit(p.EventType.UIEvent.showTip,"\u9053\u5177\u83b7\u53d6\u6210\u529f"),this._startGame()},e.prototype.onBtnStartGame=function(){this.emit(p.EventType.AudioEvent.playClickBtn),this._startGame()},e.prototype._startGame=function(){this.emit(p.EventType.GetPropEvent.startGame),this.emit(p.EventType.UIEvent.exit,h.GlobalEnum.UI.getProp),this.hide()},e.prototype.showBanner=function(){this.emit(p.EventType.SDKEvent.showBanner,{id:c.AdConfig.bannerID.gameScene,style:{horizontal:"middle",width:750}})},r([d(cc.SpriteFrame)],e.prototype,"bombNumUp",void 0),r([d(cc.SpriteFrame)],e.prototype,"bombLVUp",void 0),r([d(cc.SpriteFrame)],e.prototype,"speedUp",void 0),r([d(cc.Sprite)],e.prototype,"showSpr",void 0),r([u],e)}(a.default);o.default=y,cc._RF.pop()},{"../../Script/Common/PlayerData":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/AdConfig":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}],LvBox:[function(t,e,o){"use strict";cc._RF.push(e,"f64e0wcvChKOb8O9LY6OK9p","LvBox");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/yyComponent"),a=t("../../Script/GameSpecial/GameEventType"),c=cc._decorator,p=c.ccclass,h=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=[],e.bgSpr=null,e.strLab=null,e.lv=999,e.openState=2,e.starNum=0,e.starNodes=[],e}return n(e,t),e.prototype.init=function(t){this.node.active=!1,t?this.setData(t):this.setData({lv:999,openState:2,starNum:0})},e.prototype.reuse=function(t){this.node.active=!1,t?this.setData(t):this.setData({lv:999,openState:2,starNum:0})},e.prototype.unuse=function(){this.node.active=!1,this.strLab.string=""},e.prototype.setData=function(t){this.lv=t.lv,this.strLab.string=this.lv.toString(),this.openState=t.openState,this.bgSpr.spriteFrame=this.bg[this.openState],this.setStar(t.starNum),999==this.lv?this.node.active=!1:this.node.active=!0},e.prototype.setStar=function(t){this.starNum=t;for(var e=0;e<this.starNodes.length;e++)e<this.starNum?this.starNodes[e].active=!0:this.starNodes[e].active=!1},e.prototype.onClick=function(){switch(this.openState){case 0:console.log("\u8fdb\u5165\u5df2\u901a\u5173\u5173\u5361,\u6ce8\u610f\u9053\u5177\u53ef\u80fd\u65e0\u6cd5\u83b7\u5f97"),this.emit(a.EventType.ChooseEvent.levelChoose,this.lv);break;case 1:console.log("\u8fdb\u5165\u5f53\u524d\u5173\u5361"),this.emit(a.EventType.ChooseEvent.levelChoose,this.lv);break;case 2:console.log("\u8fdb\u5165\u672a\u5f00\u542f\u5173\u5361\uff0c\u8fdb\u5165\u5931\u8d25\uff0c\u8bf7\u4f9d\u6b21\u901a\u5173\u3002"),this.emit(a.EventType.ChooseEvent.levelClose);break;default:console.log("\u53d1\u751f\u672a\u77e5\u9519\u8bef\uff0c\u5173\u5361\u9009\u62e9\u5931\u8d25\uff0c\u8bf7\u9009\u62e9\u5176\u4ed6\u5173\u5361"),this.emit(a.EventType.ChooseEvent.levelClose)}},r([h([cc.SpriteFrame])],e.prototype,"bg",void 0),r([h(cc.Sprite)],e.prototype,"bgSpr",void 0),r([h(cc.Label)],e.prototype,"strLab",void 0),r([h([cc.Node])],e.prototype,"starNodes",void 0),r([p],e)}(s.default);o.default=l,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0}],ShopItem:[function(t,e,o){"use strict";cc._RF.push(e,"5a631MrW1ZFcYMlXrLofj5W","ShopItem");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,a=t("../../Script/Common/yyComponent"),c=t("../../Script/GameSpecial/GameEventType");(function(t){t[t.using=0]="using",t[t.owned=1]="owned",t[t.needBuy=2]="needBuy",t[t.needTry=3]="needTry",t[t.trying=4]="trying"})(s||(s={}));var p=cc._decorator,h=p.ccclass,l=p.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=s.needBuy,e.id=0,e.roleSpr=null,e.raritySpr=null,e.nameSpr=null,e.skillSpr=null,e.buy=null,e.cost=null,e.owned=null,e.using=null,e}return n(e,t),e.prototype.init=function(){this.onEvents()},e.prototype.reset=function(){},e.prototype.setData=function(t){this.id=t.id,this.setState(t.state,t.cost),this.setImage(t)},e.prototype.onEvents=function(){this.node.on("touchstart",this.touchStart,this),this.on(c.EventType.ShopEvent.chooseItem,this.ChooseLevel,this)},e.prototype.offEvents=function(){this.node.off("touchstart",this.touchStart,this),this.on(c.EventType.ShopEvent.chooseItem,this.ChooseLevel,this)},e.prototype.touchStart=function(){this.state==s.owned&&this.emit(c.EventType.ShopEvent.chooseItem,this.id)},e.prototype.ChooseLevel=function(t){this.id==t?this.updateState(1):this.state!=s.needBuy&&this.updateState(0)},e.prototype.onBtnBuy=function(){this.state==s.needBuy&&this.emit(c.EventType.ShopEvent.chooseItemBuy,this.id)},e.prototype.setImage=function(t){this.setRole(t.role),this.setRarity(t.rarity),this.setName(t.name),this.setSkill(t.skill)},e.prototype.setRole=function(t){this.roleSpr.spriteFrame=t},e.prototype.setRarity=function(t){this.raritySpr.spriteFrame=t},e.prototype.setName=function(t){this.nameSpr.spriteFrame=t},e.prototype.setSkill=function(t){this.skillSpr.spriteFrame=t},e.prototype.setBuy=function(t){this.buy.active=!0,this.cost.string=t,this.owned.active=!1,this.using.active=!1},e.prototype.setOwned=function(){this.buy.active=!1,this.owned.active=!0,this.using.active=!1},e.prototype.setUsing=function(){this.buy.active=!1,this.owned.active=!1,this.using.active=!0},e.prototype.setState=function(t,e){-1==t?(this.setBuy(e),this.state=s.needBuy):0==t?(this.setOwned(),this.state=s.owned):1==t&&(this.setUsing(),this.state=s.using)},e.prototype.updateState=function(t){0==t?(this.setOwned(),this.state=s.owned):1==t&&(this.setUsing(),this.state=s.using)},r([l(cc.Sprite)],e.prototype,"roleSpr",void 0),r([l(cc.Sprite)],e.prototype,"raritySpr",void 0),r([l(cc.Sprite)],e.prototype,"nameSpr",void 0),r([l(cc.Sprite)],e.prototype,"skillSpr",void 0),r([l(cc.Node)],e.prototype,"buy",void 0),r([l(cc.Label)],e.prototype,"cost",void 0),r([l(cc.Node)],e.prototype,"owned",void 0),r([l(cc.Node)],e.prototype,"using",void 0),r([h],e)}(a.default);o.default=u,cc._RF.pop()},{"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0}],ShopUI:[function(t,e,o){"use strict";cc._RF.push(e,"f1146XD9dZL0oi7dzvFICfT","ShopUI");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/yyComponent"),a=t("../../Script/GameSpecial/GlobalEnum"),c=t("../../Script/GameSpecial/GameEventType"),p=t("../../Script/Common/PlayerData"),h=t("./ShopItem"),l=t("../../Script/Common/Loader"),u=cc._decorator,d=u.ccclass,y=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._uiType=a.GlobalEnum.UI.shop,e.itemLayer=null,e.itemPrefab=null,e.items=[],e.imgS={},e}return n(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return this._uiType},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.initItem(),this.initComponents(),this.onEvents()},e.prototype.onEvents=function(){this.on(c.EventType.ShopEvent.chooseItemBuy,this.onBtnBuy,this),this.on(c.EventType.ShopEvent.chooseItem,this.onBtnChoose,this)},e.prototype.reset=function(){this.resetItem()},e.prototype.show=function(){this.node.active=!0,this.emit(c.EventType.UIEvent.enter,a.GlobalEnum.UI.playerAssetBar)},e.prototype.hide=function(){this.node.active=!1,this.emit(c.EventType.UIEvent.exit,a.GlobalEnum.UI.playerAssetBar)},e.prototype.setData=function(){},e.prototype.initItem=function(){this.curItemId=null,this.items=[],this.itemLayer.removeAllChildren();for(var t=1;t<=4;++t){var e=cc.instantiate(this.itemPrefab),o=e.getComponent(h.default);this.itemLayer.addChild(e),this.items.push(o),o.init()}this.loadImage(this.setItem.bind(this))},e.prototype.setItem=function(){var t=p.default.getData("gameData.PlayerSkin.cur");this.curItemId=t;for(var e=p.default.getData("gameData.PlayerSkin.owned"),o=1;o<this.items.length+1;o++){var i=-1;e.indexOf(o)>=0&&(i=o==t?1:0);var n={id:o,state:i,cost:this.getCost(o),role:this.imgS["role"+o],rarity:this.imgS["rarity"+o],name:this.imgS["name"+o],skill:this.imgS["skill"+o]};this.items[o-1].setData(n)}},e.prototype.getCost=function(t){var e=0;switch(t){case 1:e=0;break;case 2:e=2e3;break;case 3:e=6e3;break;case 4:e=12e3}return e},e.prototype.resetItem=function(){},e.prototype.onBtnExit=function(){this.emit(c.EventType.AudioEvent.playClickBtn),this.emit(c.EventType.UIEvent.exit,this.uiType)},e.prototype.onBtnBuy=function(t){this.curItemId=t,this.emit(c.EventType.AudioEvent.playClickBtn);var e=p.default.getData("gameData.asset.gold"),o=this.getCost(this.curItemId);e<o?this.tipGoldUnenough():(this.subGold(o),this.unlockSkin(a.GlobalEnum.GoodsType.playerSkin,this.curItemId),this.setCurSkin(a.GlobalEnum.GoodsType.playerSkin,this.curItemId),this.emit(c.EventType.ShopEvent.chooseItem,this.curItemId))},e.prototype.subGold=function(t){this.emit(c.EventType.PlayerDataEvent.updatePlayerData,{type:"gameData",attribute:"gameData.asset.gold",value:t,mode:"-",save:!1,emit:!0})},e.prototype.unlockSkin=function(t,e){this.emit(c.EventType.PlayerDataEvent.updatePlayerData,{type:"gameData",attribute:"gameData."+t+".owned",value:parseInt(e),mode:"push",save:!1,emit:!1})},e.prototype.setCurSkin=function(t,e){this.emit(c.EventType.PlayerDataEvent.updatePlayerData,{type:"gameData",attribute:"gameData."+t+".cur",value:parseInt(e),mode:"=",save:!0,emit:!0})},e.prototype.tipGoldUnenough=function(){this.emit(c.EventType.UIEvent.showTip,"\u91d1\u5e01\u4e0d\u8db3")},e.prototype.onBtnVideo=function(t){this.curItemId=t.itemId,this.emit(c.EventType.AudioEvent.playClickBtn),this.emit(c.EventType.SDKEvent.showVideo,{success:this.tryByVideo.bind(this),quit:this.tryByVideoQuit.bind(this)})},e.prototype.tryByVideo=function(){this.unlockSkin(a.GlobalEnum.GoodsType.playerSkin,this.curItemId),this.setCurSkin(a.GlobalEnum.GoodsType.playerSkin,this.curItemId)},e.prototype.tryByVideoQuit=function(){this.emit(c.EventType.UIEvent.showTip,"\u89c2\u770b\u5b8c\u6574\u89c6\u9891\u624d\u80fd\u8bd5\u7528\u65b0\u76ae\u80a4\u54e6~~")},e.prototype.onBtnChoose=function(t){this.curItemId=t,p.default.getData("gameData.PlayerSkin.owned").indexOf(t)>=0&&this.emit(c.EventType.PlayerDataEvent.updatePlayerData,{type:"gameData",attribute:"gameData.PlayerSkin.cur",value:t,mode:"=",save:!0,emit:!0})},e.prototype.loadImage=function(t){var e=this;l.default.loadBundle("LobbyUI",function(){l.default.loadBundleDir("LobbyUI","Image/shop",function(o){for(var i=o.length-1;i>=0;--i)e.imgS[o[i].name]=o[i];t&&t()},cc.SpriteFrame,!0)},!0,!0)},r([y(cc.Node)],e.prototype,"itemLayer",void 0),r([y(cc.Prefab)],e.prototype,"itemPrefab",void 0),r([d],e)}(s.default);o.default=f,cc._RF.pop()},{"../../Script/Common/Loader":void 0,"../../Script/Common/PlayerData":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0,"./ShopItem":"ShopItem"}],TouchBannerUI:[function(t,e,o){"use strict";cc._RF.push(e,"6746aKOT7lHLZEiPuMTWQ+O","TouchBannerUI");var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,i){var n,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(r<3?n(s):r>3?n(e,o,s):n(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Script/Common/Action3dManager"),a=t("../../Script/Common/GameFlow"),c=t("../../Script/Common/GlobalPool"),p=t("../../Script/Common/Loader"),h=t("../../Script/Common/PlayerData"),l=t("../../Script/Common/yyComponent"),u=t("../../Script/GameSpecial/GameEventType"),d=t("../../Script/GameSpecial/GlobalEnum"),y=cc._decorator,f=y.ccclass,v=y.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bar=null,e.barTotalLength=0,e.progress=0,e.monster=null,e.animaPlaying=!1,e.playerNode=null,e.player=null,e.skin=1,e.bomb=null,e.bombPoint=null,e.touchCount=0,e.targetProgress=0,e.zadanbidiankaiguan=null,e.bannerShowing=!1,e.bannerShowCount=0,e.timerBanner3=null,e.goldLabel=null,e}return n(e,t),Object.defineProperty(e.prototype,"uiType",{get:function(){return d.GlobalEnum.UI.touchBanner},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this.initAnim(),this.initProgress(),this.randomTouchCount(t)},e.prototype.reset=function(){this.resetAnim(),this.resetProgress()},e.prototype.show=function(t){console.log("\u5f00\u5173\u914d\u7f6e\uff1a",t),this.node.active=!0,this.reset(),this.showPlayer(),this.randomTouchCount(t),this.zadanbidiankaiguan=t.config[d.GlobalEnum.GameFlowGlobalConfig.mustTouchBanner]},e.prototype.hide=function(){this.off(u.EventType.SDKEvent.show,this.onShow,this),this.reset(),this.node.active=!1},e.prototype.initProgress=function(){this.barTotalLength=this.bar.getComponent(cc.Sprite).spriteFrame.getOriginalSize().width,this.progress=0,this.updateBarWidth()},e.prototype.resetProgress=function(){this.progress=0,this.updateBarWidth()},e.prototype.updateBarWidth=function(){var t=this.barTotalLength*(1-this.progress);t<1&&(t=1),this.bar.width=t},e.prototype.updateProgress=function(t){this.progress>.7?this.subProgress(1.5*t):this.progress>.4?this.subProgress(1.2*t):this.subProgress(1*t)},e.prototype.subProgress=function(t){this.progress-=t,this.progress<0&&(this.progress=0),this.updateBarWidth()},e.prototype.addProgress=function(t){this.progress+=t,this.progress>1&&(this.progress=1),this.updateBarWidth(),this.progress>=1&&this.getGoldForTouchBanner()},e.prototype.initAnim=function(){this.animaPlaying=!1,this.monster.angle=0},e.prototype.resetAnim=function(){s.default.getMng(s.ActionMngType.UI).stopAllActions(this.monster),this.animaPlaying=!1,this.monster.angle=0,this.player&&(c.default.put(this.player),this.player=null)},e.prototype.clickBox=function(){if(!this.animaPlaying){this.animaPlaying=!0;var t=s.default.rotateTo2d(.05,20),e=s.default.rotateTo2d(.05,0),o=s.default.rotateTo2d(.05,-20),i=s.default.rotateTo2d(.05,0),n=s.default.callFun(this.onBoxAnimFinish,this),r=s.default.sequence(t,e,o,i,n);s.default.getMng(s.ActionMngType.UI).runAction(this.monster,r)}},e.prototype.onBoxAnimFinish=function(){this.animaPlaying=!1},e.prototype.showPlayer=function(){var t=this;this.skin=h.default.getCurSkinId(d.GlobalEnum.GoodsType.playerSkin);var e;e=0==this.skin?"":this.skin.toString(),p.default.loadBundleRes("LevelScene","Prefab/Player"+e,function(e){var o=cc.instantiate(e);t.playerNode.addChild(o),t.player=o,t.player.group="default"},cc.Prefab,!0),this.bomb=this.playerNode.getChildByName(this.skin.toString()),this.bombPoint=this.playerNode.getChildByName("bomb").getPosition()},e.prototype.playAnim=function(){var t=cc.instantiate(this.bomb);this.playerNode.addChild(t),this.moveLevel(t)},e.prototype.moveLevel=function(t){t.active=!0;var e=s.default.moveTo(.05,this.bombPoint.x,this.bombPoint.y),o=s.default.callFun(this.nodeOver,this,t),i=s.default.sequence(e,o);s.default.getMng(s.ActionMngType.UI).runAction(t,i)},e.prototype.nodeOver=function(t){t.destroy(),this.playEffect(),this.clickBox(),this.addProgress(.3)},e.prototype.playEffect=function(){var t="BombEffect";switch(this.skin){case 1:t="Water"+t;break;case 2:t="Gas"+t;break;case 3:t="Fire"+t;break;case 4:t="Lightning"+t}var e=c.default.get(t);e&&(this.playerNode.addChild(e),e.setPosition(this.bombPoint),e.group="default")},e.prototype.randomTouchCount=function(t){this.zadanType=a.default.getGlobalConfig("zadanshengjikaiguan")?2:1;var e=2,o=6;if(void 0!==t&&void 0!==t.config){var i=t.config[d.GlobalEnum.RecommendFlowConfig.touchBannerClickCount].split("-");e=parseInt(i[0]),o=parseInt(i[1])}this.touchCount=e+Math.floor(Math.random()*(o-e+.999)),this.targetProgress=.1*this.touchCount,console.log("targetProgress:",this.targetProgress),this.bannerShowing=!1,this.bannerShowCount=0},e.prototype.onBtnShot=function(){switch(this.playAnim(),this.zadanType){case 1:this.zadan1();break;case 2:this.zadan2()}},e.prototype.zadan1=function(){if(!this.bannerShowing&&this.progress>=this.targetProgress){console.log("\u663e\u793abanner,",this.progress),this._showBanner(),this.bannerShowing=!0;var t=this.zadanbidiankaiguan;console.log("\u7838\u86cb\u5fc5\u70b9\u5f00\u5173: "+t),t&&1==t?(this.waitTouchBanner(),console.log("\u8fd8\u6ca1\u7ed3\u675f\uff0c\u5f97\u70b9\u51fbbanner\u624d\u53ef\u4ee5")):(this.autoHideBanner(),console.log("\u597d\u4e86\u7ee7\u7eed\u6e38\u620f\u5427"))}},e.prototype.autoHideBanner=function(){var t=this;setTimeout(function(){t.bannerShowing=!1,t._hideBanner(),t.getGoldForTouchBanner()},2e3)},e.prototype.waitTouchBanner=function(){var t=this;this.once(u.EventType.SDKEvent.show,this.onShow,this),setTimeout(function(){t._hideBanner(),t.bannerShowing=!1},2e3)},e.prototype.onShow=function(){this.node.activeInHierarchy&&(this.bannerShowing=!1,this._hideBanner(),null!==this.timerBanner3&&(clearTimeout(this.timerBanner3),this.timerBanner3=null),this.getGoldForTouchBanner())},e.prototype.zadan2=function(){if(!this.bannerShowing&&this.progress>=this.targetProgress)switch(this.bannerShowCount){case 0:this.showBanner1();break;case 1:this.showBanenr2()}},e.prototype.showBanner=function(){this._showBanner(),this.bannerShowing=!0,this.bannerShowCount++},e.prototype.showBanner1=function(){var t=this;this.showBanner(),this.once(u.EventType.SDKEvent.show,this.onShow,this),setTimeout(function(){t._hideBanner(),t.bannerShowing=!1},2e3),this.targetProgress=.01},e.prototype.showBanenr2=function(){var t=this;this.showBanner(),setTimeout(function(){t._hideBanner(),t.bannerShowing=!1},2e3),this.timerBanner3=setTimeout(this.showBanner3.bind(this),3e3)},e.prototype.showBanner3=function(){var t=this;this.node.activeInHierarchy&&(this.showBanner(),setTimeout(function(){t.bannerShowing=!1,t._hideBanner(),t.getGoldForTouchBanner()},2e3))},e.prototype.getGoldForTouchBanner=function(){this.emit(u.EventType.UIEvent.enter,d.GlobalEnum.UI.playerAssetBar),this.addGold(200,this.exit.bind(this))},e.prototype.exit=function(){this.emit(u.EventType.UIEvent.exit,d.GlobalEnum.UI.playerAssetBar),this.emit(u.EventType.UIEvent.exit,this.uiType),this.emit(u.EventType.UIEvent.touchBannerFinish)},e.prototype.addGold=function(t,e){var o=this;this.emit(u.EventType.AudioEvent.playEffect,d.GlobalEnum.AudioClip.gold);var i=this.goldLabel.convertToWorldSpaceAR(cc.v2()),n=cc.find("Canvas");i.x-=.5*n.width,i.y-=.5*n.height,this.emit(u.EventType.UIEvent.playGoldAnim,{startPos:i,cb:function(){o.emit(u.EventType.PlayerDataEvent.updatePlayerData,{attribute:"gameData.asset.gold",value:t,mode:"+"}),e&&e()},gold:t})},e.prototype._showBanner=function(){this.emit(u.EventType.SDKEvent.showBanner,{style:{horizontal:"right"}})},e.prototype._hideBanner=function(){this.emit(u.EventType.SDKEvent.hideBanner)},e.prototype._removeBanner=function(){this.emit(u.EventType.SDKEvent.hideBanner)},e.prototype.update=function(t){this.updateProgress(t)},r([v(cc.Node)],e.prototype,"bar",void 0),r([v(cc.Node)],e.prototype,"monster",void 0),r([v(cc.Node)],e.prototype,"playerNode",void 0),r([v(cc.Node)],e.prototype,"goldLabel",void 0),r([f],e)}(l.default);o.default=m,cc._RF.pop()},{"../../Script/Common/Action3dManager":void 0,"../../Script/Common/GameFlow":void 0,"../../Script/Common/GlobalPool":void 0,"../../Script/Common/Loader":void 0,"../../Script/Common/PlayerData":void 0,"../../Script/Common/yyComponent":void 0,"../../Script/GameSpecial/GameEventType":void 0,"../../Script/GameSpecial/GlobalEnum":void 0}]},{},["ChooseLevel","ChooseLevelUI","LvBox","ConfigSettingUI","GetPropUI","ShopItem","ShopUI","TouchBannerUI"]);